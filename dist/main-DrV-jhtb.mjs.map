{"version":3,"file":"main-DrV-jhtb.mjs","sources":["../src/extras/stats-gl/core.js","../src/extras/stats-gl/panel.js","../src/extras/stats-gl/panelVsync.js","../src/extras/stats-gl/panelTexture.js","../src/extras/stats-gl/textureCapture.js","../src/extras/stats-gl/main.js"],"sourcesContent":["class StatsCore {\n  constructor({\n    trackGPU = false,\n    trackCPT = false,\n    trackHz = false,\n    trackFPS = true,\n    logsPerSecond = 4,\n    graphsPerSecond = 30,\n    samplesLog = 40,\n    samplesGraph = 10,\n    precision = 2\n  } = {}) {\n    this.gl = null;\n    this.ext = null;\n    this.gpuDevice = null;\n    this.gpuBackend = null;\n    this.renderer = null;\n    this.activeQuery = null;\n    this.gpuQueries = [];\n    this.threeRendererPatched = false;\n    this.webgpuNative = false;\n    this.gpuQuerySet = null;\n    this.gpuResolveBuffer = null;\n    this.gpuReadBuffers = [];\n    this.gpuWriteBufferIndex = 0;\n    this.gpuFrameCount = 0;\n    this.pendingResolve = null;\n    this.frameTimes = [];\n    this.renderCount = 0;\n    this.totalCpuDuration = 0;\n    this.totalGpuDuration = 0;\n    this.totalGpuDurationCompute = 0;\n    this.averageFps = { logs: [], graph: [] };\n    this.averageCpu = { logs: [], graph: [] };\n    this.averageGpu = { logs: [], graph: [] };\n    this.averageGpuCompute = { logs: [], graph: [] };\n    this.trackGPU = trackGPU;\n    this.trackCPT = trackCPT;\n    this.trackHz = trackHz;\n    this.trackFPS = trackFPS;\n    this.samplesLog = samplesLog;\n    this.samplesGraph = samplesGraph;\n    this.precision = precision;\n    this.logsPerSecond = logsPerSecond;\n    this.graphsPerSecond = graphsPerSecond;\n    const now = performance.now();\n    this.prevGraphTime = now;\n    this.beginTime = now;\n    this.prevTextTime = now;\n    this.prevCpuTime = now;\n  }\n  async init(canvasOrGL) {\n    if (!canvasOrGL) {\n      console.error('Stats: The \"canvas\" parameter is undefined.');\n      return;\n    }\n    if (this.handleThreeRenderer(canvasOrGL))\n      return;\n    if (await this.handleWebGPURenderer(canvasOrGL))\n      return;\n    if (this.handleNativeWebGPU(canvasOrGL))\n      return;\n    if (this.initializeWebGL(canvasOrGL)) {\n      if (this.trackGPU) {\n        this.initializeGPUTracking();\n      }\n      return;\n    } else {\n      console.error(\"Stats-gl: Failed to initialize WebGL context\");\n    }\n  }\n  handleNativeWebGPU(device) {\n    var _a;\n    if (device && typeof device.createCommandEncoder === \"function\" && typeof device.createQuerySet === \"function\" && device.queue) {\n      this.gpuDevice = device;\n      this.webgpuNative = true;\n      if (this.trackGPU && ((_a = device.features) == null ? void 0 : _a.has(\"timestamp-query\"))) {\n        this.initializeWebGPUTiming();\n        this.onWebGPUTimestampSupported();\n      }\n      return true;\n    }\n    return false;\n  }\n  initializeWebGPUTiming() {\n    if (!this.gpuDevice)\n      return;\n    this.gpuQuerySet = this.gpuDevice.createQuerySet({\n      type: \"timestamp\",\n      count: 2\n    });\n    this.gpuResolveBuffer = this.gpuDevice.createBuffer({\n      size: 16,\n      usage: GPUBufferUsage.QUERY_RESOLVE | GPUBufferUsage.COPY_SRC\n    });\n    for (let i = 0; i < 2; i++) {\n      this.gpuReadBuffers.push(this.gpuDevice.createBuffer({\n        size: 16,\n        usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ\n      }));\n    }\n  }\n  handleThreeRenderer(renderer) {\n    if (renderer.isWebGLRenderer && !this.threeRendererPatched) {\n      this.patchThreeRenderer(renderer);\n      this.gl = renderer.getContext();\n      if (this.trackGPU) {\n        this.initializeGPUTracking();\n      }\n      return true;\n    }\n    return false;\n  }\n  async handleWebGPURenderer(renderer) {\n    var _a;\n    if (renderer.isWebGPURenderer) {\n      this.renderer = renderer;\n      if (this.trackGPU || this.trackCPT) {\n        renderer.backend.trackTimestamp = true;\n        if (!renderer._initialized) {\n          await renderer.init();\n        }\n        if (renderer.hasFeature(\"timestamp-query\")) {\n          this.onWebGPUTimestampSupported();\n        }\n      }\n      this.info = renderer.info;\n      this.gpuBackend = renderer.backend;\n      this.gpuDevice = ((_a = renderer.backend) == null ? void 0 : _a.device) || null;\n      this.patchThreeWebGPU(renderer);\n      return true;\n    }\n    return false;\n  }\n  onWebGPUTimestampSupported() {\n  }\n  initializeWebGL(canvasOrGL) {\n    if (canvasOrGL instanceof WebGL2RenderingContext) {\n      this.gl = canvasOrGL;\n    } else if (canvasOrGL instanceof HTMLCanvasElement || canvasOrGL instanceof OffscreenCanvas) {\n      this.gl = canvasOrGL.getContext(\"webgl2\");\n      if (!this.gl) {\n        console.error(\"Stats: Unable to obtain WebGL2 context.\");\n        return false;\n      }\n    } else {\n      console.error(\n        \"Stats: Invalid input type. Expected WebGL2RenderingContext, HTMLCanvasElement, or OffscreenCanvas.\"\n      );\n      return false;\n    }\n    return true;\n  }\n  initializeGPUTracking() {\n    if (this.gl) {\n      this.ext = this.gl.getExtension(\"EXT_disjoint_timer_query_webgl2\");\n      if (this.ext) {\n        this.onGPUTrackingInitialized();\n      }\n    }\n  }\n  onGPUTrackingInitialized() {\n  }\n  /**\n   * Get timestampWrites configuration for WebGPU render pass.\n   * Use this when creating your render pass descriptor.\n   * @returns timestampWrites object or undefined if not tracking GPU\n   */\n  getTimestampWrites() {\n    if (!this.webgpuNative || !this.gpuQuerySet)\n      return void 0;\n    return {\n      querySet: this.gpuQuerySet,\n      beginningOfPassWriteIndex: 0,\n      endOfPassWriteIndex: 1\n    };\n  }\n  begin(encoder) {\n    this.beginProfiling(\"cpu-started\");\n    if (this.webgpuNative) {\n      return;\n    }\n    if (!this.gl || !this.ext)\n      return;\n    if (this.activeQuery) {\n      this.gl.endQuery(this.ext.TIME_ELAPSED_EXT);\n    }\n    this.activeQuery = this.gl.createQuery();\n    if (this.activeQuery) {\n      this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT, this.activeQuery);\n    }\n  }\n  end(encoder) {\n    this.renderCount++;\n    if (this.webgpuNative && encoder && this.gpuQuerySet && this.gpuResolveBuffer && this.gpuReadBuffers.length > 0) {\n      this.gpuFrameCount++;\n      const writeBuffer = this.gpuReadBuffers[this.gpuWriteBufferIndex];\n      if (writeBuffer.mapState === \"unmapped\") {\n        encoder.resolveQuerySet(this.gpuQuerySet, 0, 2, this.gpuResolveBuffer, 0);\n        encoder.copyBufferToBuffer(this.gpuResolveBuffer, 0, writeBuffer, 0, 16);\n      }\n      this.endProfiling(\"cpu-started\", \"cpu-finished\", \"cpu-duration\");\n      return;\n    }\n    if (this.gl && this.ext && this.activeQuery) {\n      this.gl.endQuery(this.ext.TIME_ELAPSED_EXT);\n      this.gpuQueries.push({ query: this.activeQuery });\n      this.activeQuery = null;\n    }\n    this.endProfiling(\"cpu-started\", \"cpu-finished\", \"cpu-duration\");\n  }\n  /**\n   * Resolve WebGPU timestamp queries. Call this after queue.submit().\n   * Returns a promise that resolves to the GPU duration in milliseconds.\n   */\n  async resolveTimestampsAsync() {\n    if (!this.webgpuNative || this.gpuReadBuffers.length === 0) {\n      return this.totalGpuDuration;\n    }\n    if (this.pendingResolve) {\n      return this.pendingResolve;\n    }\n    const readBufferIndex = (this.gpuWriteBufferIndex + 1) % 2;\n    const readBuffer = this.gpuReadBuffers[readBufferIndex];\n    this.gpuWriteBufferIndex = (this.gpuWriteBufferIndex + 1) % 2;\n    if (this.gpuFrameCount < 2) {\n      return this.totalGpuDuration;\n    }\n    if (readBuffer.mapState !== \"unmapped\") {\n      return this.totalGpuDuration;\n    }\n    this.pendingResolve = this._resolveTimestamps(readBuffer);\n    try {\n      const result = await this.pendingResolve;\n      return result;\n    } finally {\n      this.pendingResolve = null;\n    }\n  }\n  async _resolveTimestamps(readBuffer) {\n    try {\n      await readBuffer.mapAsync(GPUMapMode.READ);\n      const data = new BigInt64Array(readBuffer.getMappedRange());\n      const startTime = data[0];\n      const endTime = data[1];\n      readBuffer.unmap();\n      const durationNs = Number(endTime - startTime);\n      this.totalGpuDuration = durationNs / 1e6;\n      return this.totalGpuDuration;\n    } catch (_) {\n      return this.totalGpuDuration;\n    }\n  }\n  processGpuQueries() {\n    if (!this.gl || !this.ext)\n      return;\n    this.totalGpuDuration = 0;\n    for (let i = this.gpuQueries.length - 1; i >= 0; i--) {\n      const queryInfo = this.gpuQueries[i];\n      const available = this.gl.getQueryParameter(queryInfo.query, this.gl.QUERY_RESULT_AVAILABLE);\n      const disjoint = this.gl.getParameter(this.ext.GPU_DISJOINT_EXT);\n      if (available && !disjoint) {\n        const elapsed = this.gl.getQueryParameter(queryInfo.query, this.gl.QUERY_RESULT);\n        const duration = elapsed * 1e-6;\n        this.totalGpuDuration += duration;\n        this.gl.deleteQuery(queryInfo.query);\n        this.gpuQueries.splice(i, 1);\n      }\n    }\n  }\n  processWebGPUTimestamps() {\n    this.totalGpuDuration = this.info.render.timestamp;\n    this.totalGpuDurationCompute = this.info.compute.timestamp;\n  }\n  beginProfiling(marker) {\n    if (typeof performance !== \"undefined\") {\n      try {\n        performance.clearMarks(marker);\n        performance.mark(marker);\n      } catch (error) {\n        console.debug(\"Stats: Performance marking failed:\", error);\n      }\n    }\n  }\n  endProfiling(startMarker, endMarker, measureName) {\n    if (typeof performance === \"undefined\" || !endMarker || !startMarker)\n      return;\n    try {\n      const entries = performance.getEntriesByName(startMarker, \"mark\");\n      if (entries.length === 0) {\n        this.beginProfiling(startMarker);\n      }\n      performance.clearMarks(endMarker);\n      performance.mark(endMarker);\n      performance.clearMeasures(measureName);\n      const cpuMeasure = performance.measure(measureName, startMarker, endMarker);\n      this.totalCpuDuration += cpuMeasure.duration;\n      performance.clearMarks(startMarker);\n      performance.clearMarks(endMarker);\n      performance.clearMeasures(measureName);\n    } catch (error) {\n      console.debug(\"Stats: Performance measurement failed:\", error);\n    }\n  }\n  calculateFps() {\n    const currentTime = performance.now();\n    this.frameTimes.push(currentTime);\n    while (this.frameTimes.length > 0 && this.frameTimes[0] <= currentTime - 1e3) {\n      this.frameTimes.shift();\n    }\n    return Math.round(this.frameTimes.length);\n  }\n  updateAverages() {\n    this.addToAverage(this.totalCpuDuration, this.averageCpu);\n    this.addToAverage(this.totalGpuDuration, this.averageGpu);\n    if (this.info && this.totalGpuDurationCompute !== void 0) {\n      this.addToAverage(this.totalGpuDurationCompute, this.averageGpuCompute);\n    }\n  }\n  addToAverage(value, averageArray) {\n    averageArray.logs.push(value);\n    while (averageArray.logs.length > this.samplesLog) {\n      averageArray.logs.shift();\n    }\n    averageArray.graph.push(value);\n    while (averageArray.graph.length > this.samplesGraph) {\n      averageArray.graph.shift();\n    }\n  }\n  resetCounters() {\n    this.renderCount = 0;\n    this.totalCpuDuration = 0;\n    this.beginTime = performance.now();\n  }\n  getData() {\n    const fpsLogs = this.averageFps.logs;\n    const cpuLogs = this.averageCpu.logs;\n    const gpuLogs = this.averageGpu.logs;\n    const gpuComputeLogs = this.averageGpuCompute.logs;\n    return {\n      fps: fpsLogs.length > 0 ? fpsLogs[fpsLogs.length - 1] : 0,\n      cpu: cpuLogs.length > 0 ? cpuLogs[cpuLogs.length - 1] : 0,\n      gpu: gpuLogs.length > 0 ? gpuLogs[gpuLogs.length - 1] : 0,\n      gpuCompute: gpuComputeLogs.length > 0 ? gpuComputeLogs[gpuComputeLogs.length - 1] : 0\n    };\n  }\n  patchThreeWebGPU(renderer) {\n    const originalAnimationLoop = renderer.info.reset;\n    const statsInstance = this;\n    renderer.info.reset = function() {\n      statsInstance.beginProfiling(\"cpu-started\");\n      originalAnimationLoop.call(this);\n    };\n  }\n  patchThreeRenderer(renderer) {\n    const originalRenderMethod = renderer.render;\n    const statsInstance = this;\n    renderer.render = function(scene, camera) {\n      statsInstance.begin();\n      originalRenderMethod.call(this, scene, camera);\n      statsInstance.end();\n    };\n    this.threeRendererPatched = true;\n  }\n  /**\n   * Dispose of all resources. Call when done using the stats instance.\n   */\n  dispose() {\n    if (this.gl) {\n      if (this.activeQuery && this.ext) {\n        try {\n          this.gl.endQuery(this.ext.TIME_ELAPSED_EXT);\n        } catch (_) {\n        }\n        this.gl.deleteQuery(this.activeQuery);\n        this.activeQuery = null;\n      }\n      for (const queryInfo of this.gpuQueries) {\n        this.gl.deleteQuery(queryInfo.query);\n      }\n      this.gpuQueries.length = 0;\n    }\n    if (this.gpuQuerySet) {\n      this.gpuQuerySet.destroy();\n      this.gpuQuerySet = null;\n    }\n    if (this.gpuResolveBuffer) {\n      this.gpuResolveBuffer.destroy();\n      this.gpuResolveBuffer = null;\n    }\n    for (const buffer of this.gpuReadBuffers) {\n      if (buffer.mapState === \"mapped\") {\n        buffer.unmap();\n      }\n      buffer.destroy();\n    }\n    this.gpuReadBuffers.length = 0;\n    this.gpuFrameCount = 0;\n    this.pendingResolve = null;\n    this.webgpuNative = false;\n    this.gl = null;\n    this.ext = null;\n    this.info = void 0;\n    this.gpuDevice = null;\n    this.gpuBackend = null;\n    this.renderer = null;\n    this.frameTimes.length = 0;\n    this.averageFps.logs.length = 0;\n    this.averageFps.graph.length = 0;\n    this.averageCpu.logs.length = 0;\n    this.averageCpu.graph.length = 0;\n    this.averageGpu.logs.length = 0;\n    this.averageGpu.graph.length = 0;\n    this.averageGpuCompute.logs.length = 0;\n    this.averageGpuCompute.graph.length = 0;\n  }\n}\nexport {\n  StatsCore\n};\n//# sourceMappingURL=core.js.map\n","class Panel {\n  constructor(name, fg, bg) {\n    this.id = 0;\n    this.name = name;\n    this.fg = fg;\n    this.bg = bg;\n    this.gradient = null;\n    this.PR = Math.round(typeof window !== \"undefined\" ? window.devicePixelRatio || 1 : 1);\n    this.WIDTH = 90 * this.PR;\n    this.HEIGHT = 48 * this.PR;\n    this.TEXT_X = 3 * this.PR;\n    this.TEXT_Y = 2 * this.PR;\n    this.GRAPH_X = 3 * this.PR;\n    this.GRAPH_Y = 15 * this.PR;\n    this.GRAPH_WIDTH = 84 * this.PR;\n    this.GRAPH_HEIGHT = 30 * this.PR;\n    this.canvas = typeof document !== \"undefined\" ? document.createElement(\"canvas\") : new OffscreenCanvas(this.WIDTH, this.HEIGHT);\n    this.canvas.width = this.WIDTH;\n    this.canvas.height = this.HEIGHT;\n    this.canvas.style.width = \"90px\";\n    this.canvas.style.height = \"48px\";\n    this.canvas.style.position = \"absolute\";\n    this.canvas.style.cssText = \"width:90px;height:48px;background-color: transparent !important;\";\n    this.context = this.canvas.getContext(\"2d\");\n    this.initializeCanvas();\n  }\n  createGradient() {\n    if (!this.context)\n      throw new Error(\"No context\");\n    const gradient = this.context.createLinearGradient(\n      0,\n      this.GRAPH_Y,\n      0,\n      this.GRAPH_Y + this.GRAPH_HEIGHT\n    );\n    let startColor;\n    const endColor = this.fg;\n    switch (this.fg.toLowerCase()) {\n      case \"#0ff\":\n        startColor = \"#006666\";\n        break;\n      case \"#0f0\":\n        startColor = \"#006600\";\n        break;\n      case \"#ff0\":\n        startColor = \"#666600\";\n        break;\n      case \"#e1e1e1\":\n        startColor = \"#666666\";\n        break;\n      default:\n        startColor = this.bg;\n        break;\n    }\n    gradient.addColorStop(0, startColor);\n    gradient.addColorStop(1, endColor);\n    return gradient;\n  }\n  initializeCanvas() {\n    if (!this.context)\n      return;\n    this.context.imageSmoothingEnabled = false;\n    this.context.font = \"bold \" + 9 * this.PR + \"px Helvetica,Arial,sans-serif\";\n    this.context.textBaseline = \"top\";\n    this.gradient = this.createGradient();\n    this.context.fillStyle = this.bg;\n    this.context.fillRect(0, 0, this.WIDTH, this.HEIGHT);\n    this.context.fillStyle = this.fg;\n    this.context.fillText(this.name, this.TEXT_X, this.TEXT_Y);\n    this.context.fillStyle = this.bg;\n    this.context.globalAlpha = 0.9;\n    this.context.fillRect(this.GRAPH_X, this.GRAPH_Y, this.GRAPH_WIDTH, this.GRAPH_HEIGHT);\n  }\n  // Update only text portion\n  update(value, maxValue, decimals = 0, suffix = \"\") {\n    if (!this.context || !this.gradient)\n      return;\n    const min = Math.min(Infinity, value);\n    const max = Math.max(maxValue, value);\n    this.context.globalAlpha = 1;\n    this.context.fillStyle = this.bg;\n    this.context.fillRect(0, 0, this.WIDTH, this.GRAPH_Y);\n    const valueAndName = `${value.toFixed(decimals)} ${this.name}`;\n    this.context.fillStyle = this.fg;\n    this.context.fillText(valueAndName, this.TEXT_X, this.TEXT_Y);\n    let textX = this.TEXT_X + this.context.measureText(valueAndName).width;\n    if (suffix) {\n      this.context.fillStyle = \"#f90\";\n      this.context.fillText(suffix, textX, this.TEXT_Y);\n      textX += this.context.measureText(suffix).width;\n    }\n    this.context.fillStyle = this.fg;\n    this.context.fillText(\n      ` (${min.toFixed(decimals)}-${parseFloat(max.toFixed(decimals))})`,\n      textX,\n      this.TEXT_Y\n    );\n  }\n  // Update only graph portion\n  updateGraph(valueGraph, maxGraph) {\n    if (!this.context || !this.gradient)\n      return;\n    if (valueGraph === 0 && maxGraph === 0) {\n      maxGraph = 1;\n    }\n    maxGraph = Math.max(maxGraph, valueGraph, 0.1);\n    valueGraph = Math.max(valueGraph, 0);\n    const graphX = Math.round(this.GRAPH_X);\n    const graphY = Math.round(this.GRAPH_Y);\n    const graphWidth = Math.round(this.GRAPH_WIDTH);\n    const graphHeight = Math.round(this.GRAPH_HEIGHT);\n    const pr = Math.round(this.PR);\n    this.context.drawImage(\n      this.canvas,\n      graphX + pr,\n      graphY,\n      graphWidth - pr,\n      graphHeight,\n      graphX,\n      graphY,\n      graphWidth - pr,\n      graphHeight\n    );\n    this.context.fillStyle = this.bg;\n    this.context.fillRect(\n      graphX + graphWidth - pr,\n      graphY,\n      pr,\n      graphHeight\n    );\n    const columnHeight = Math.min(\n      graphHeight,\n      Math.round(valueGraph / maxGraph * graphHeight)\n    );\n    if (columnHeight > 0) {\n      this.context.globalAlpha = 0.9;\n      this.context.fillStyle = this.gradient;\n      this.context.fillRect(\n        graphX + graphWidth - pr,\n        graphY + (graphHeight - columnHeight),\n        pr,\n        columnHeight\n      );\n    }\n    this.context.globalAlpha = 1;\n  }\n}\nexport {\n  Panel\n};\n//# sourceMappingURL=panel.js.map\n","import { Panel } from \"./panel.js\";\nclass PanelVSync extends Panel {\n  constructor(name, fg, bg) {\n    super(name, fg, bg);\n    this.vsyncValue = 0;\n    this.SMALL_HEIGHT = 9 * this.PR;\n    this.HEIGHT = this.SMALL_HEIGHT;\n    this.WIDTH = 35 * this.PR;\n    this.TEXT_Y = 0 * this.PR;\n    this.canvas.height = this.HEIGHT;\n    this.canvas.width = this.WIDTH;\n    this.canvas.style.height = \"9px\";\n    this.canvas.style.width = \"35px\";\n    this.canvas.style.cssText = `\n            width: 35px;\n            height: 9px;\n            position: absolute;\n            top: 0;\n            left: 0;\n            background-color: transparent !important;\n            pointer-events: none;\n        `;\n    this.initializeCanvas();\n  }\n  initializeCanvas() {\n    if (!this.context)\n      return;\n    this.context.imageSmoothingEnabled = false;\n    this.context.font = \"bold \" + 9 * this.PR + \"px Helvetica,Arial,sans-serif\";\n    this.context.textBaseline = \"top\";\n    this.context.globalAlpha = 1;\n  }\n  // Override update for VSync-specific display\n  update(value, _maxValue, _decimals = 0) {\n    if (!this.context)\n      return;\n    this.vsyncValue = value;\n    this.context.clearRect(0, 0, this.WIDTH, this.HEIGHT);\n    this.context.globalAlpha = 1;\n    this.context.fillStyle = this.bg;\n    this.context.fillText(\n      `${value.toFixed(0)}Hz`,\n      this.TEXT_X,\n      this.TEXT_Y\n    );\n  }\n  // Override updateGraph to do nothing (we don't need a graph for VSync)\n  updateGraph(_valueGraph, _maxGraph) {\n    return;\n  }\n  // Method to set the offset position relative to parent panel\n  setOffset(x, y) {\n    this.canvas.style.transform = `translate(${x}px, ${y}px)`;\n  }\n}\nexport {\n  PanelVSync\n};\n//# sourceMappingURL=panelVsync.js.map\n","import { Panel } from \"./panel.js\";\nclass PanelTexture extends Panel {\n  // Source texture aspect ratio (width/height)\n  constructor(name) {\n    super(name, \"#fff\", \"#111\");\n    this.currentBitmap = null;\n    this.sourceAspect = 1;\n    this.initializeCanvas();\n  }\n  initializeCanvas() {\n    if (!this.context)\n      return;\n    this.context.imageSmoothingEnabled = true;\n    this.context.font = \"bold \" + 9 * this.PR + \"px Helvetica,Arial,sans-serif\";\n    this.context.textBaseline = \"top\";\n    this.context.fillStyle = \"#000\";\n    this.context.fillRect(0, 0, this.WIDTH, this.HEIGHT);\n    this.drawLabelOverlay();\n  }\n  drawLabelOverlay() {\n    if (!this.context)\n      return;\n    this.context.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n    this.context.fillRect(0, 0, this.WIDTH, this.GRAPH_Y);\n    this.context.fillStyle = this.fg;\n    this.context.fillText(this.name, this.TEXT_X, this.TEXT_Y);\n  }\n  /**\n   * Set the source texture aspect ratio for proper display\n   * @param width - Source texture width\n   * @param height - Source texture height\n   */\n  setSourceSize(width, height) {\n    this.sourceAspect = width / height;\n  }\n  updateTexture(bitmap) {\n    if (!this.context)\n      return;\n    if (this.currentBitmap) {\n      this.currentBitmap.close();\n    }\n    this.currentBitmap = bitmap;\n    this.context.fillStyle = \"#000\";\n    this.context.fillRect(0, 0, this.WIDTH, this.HEIGHT);\n    const panelAspect = this.WIDTH / this.HEIGHT;\n    let destWidth;\n    let destHeight;\n    let destX;\n    let destY;\n    if (this.sourceAspect > panelAspect) {\n      destWidth = this.WIDTH;\n      destHeight = this.WIDTH / this.sourceAspect;\n      destX = 0;\n      destY = (this.HEIGHT - destHeight) / 2;\n    } else {\n      destHeight = this.HEIGHT;\n      destWidth = this.HEIGHT * this.sourceAspect;\n      destX = (this.WIDTH - destWidth) / 2;\n      destY = 0;\n    }\n    this.context.drawImage(\n      bitmap,\n      destX,\n      destY,\n      destWidth,\n      destHeight\n    );\n    this.drawLabelOverlay();\n  }\n  setLabel(label) {\n    this.name = label;\n    this.drawLabelOverlay();\n  }\n  // Override update - not used for texture panels\n  update(_value, _maxValue, _decimals = 0, _suffix = \"\") {\n  }\n  // Override updateGraph - not used for texture panels\n  updateGraph(_valueGraph, _maxGraph) {\n  }\n  /**\n   * Dispose of resources\n   */\n  dispose() {\n    if (this.currentBitmap) {\n      this.currentBitmap.close();\n      this.currentBitmap = null;\n    }\n  }\n}\nexport {\n  PanelTexture\n};\n//# sourceMappingURL=panelTexture.js.map\n","const DEFAULT_PREVIEW_WIDTH = 90;\nconst DEFAULT_PREVIEW_HEIGHT = 48;\nclass TextureCaptureWebGL {\n  constructor(gl, width = DEFAULT_PREVIEW_WIDTH, height = DEFAULT_PREVIEW_HEIGHT) {\n    this.previewFbo = null;\n    this.previewTexture = null;\n    this.gl = gl;\n    this.previewWidth = width;\n    this.previewHeight = height;\n    this.pixels = new Uint8Array(width * height * 4);\n    this.flippedPixels = new Uint8Array(width * height * 4);\n    this.initResources();\n  }\n  /**\n   * Resize preview dimensions\n   */\n  resize(width, height) {\n    if (width === this.previewWidth && height === this.previewHeight)\n      return;\n    this.previewWidth = width;\n    this.previewHeight = height;\n    this.pixels = new Uint8Array(width * height * 4);\n    this.flippedPixels = new Uint8Array(width * height * 4);\n    this.dispose();\n    this.initResources();\n  }\n  initResources() {\n    const gl = this.gl;\n    this.previewTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, this.previewTexture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA8, this.previewWidth, this.previewHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    this.previewFbo = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.previewFbo);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.previewTexture, 0);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n  }\n  async capture(source, sourceWidth, sourceHeight, _sourceId = \"default\") {\n    const gl = this.gl;\n    const prevReadFbo = gl.getParameter(gl.READ_FRAMEBUFFER_BINDING);\n    const prevDrawFbo = gl.getParameter(gl.DRAW_FRAMEBUFFER_BINDING);\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, source);\n    gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.previewFbo);\n    gl.blitFramebuffer(\n      0,\n      0,\n      sourceWidth,\n      sourceHeight,\n      0,\n      0,\n      this.previewWidth,\n      this.previewHeight,\n      gl.COLOR_BUFFER_BIT,\n      gl.LINEAR\n    );\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.previewFbo);\n    gl.readPixels(0, 0, this.previewWidth, this.previewHeight, gl.RGBA, gl.UNSIGNED_BYTE, this.pixels);\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, prevReadFbo);\n    gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, prevDrawFbo);\n    const flipped = this.flipY(this.pixels, this.previewWidth, this.previewHeight);\n    const imageData = new ImageData(new Uint8ClampedArray(flipped), this.previewWidth, this.previewHeight);\n    return createImageBitmap(imageData);\n  }\n  flipY(pixels, width, height) {\n    const rowSize = width * 4;\n    for (let y = 0; y < height; y++) {\n      const srcOffset = y * rowSize;\n      const dstOffset = (height - 1 - y) * rowSize;\n      this.flippedPixels.set(pixels.subarray(srcOffset, srcOffset + rowSize), dstOffset);\n    }\n    return this.flippedPixels;\n  }\n  removeSource(_sourceId) {\n  }\n  dispose() {\n    const gl = this.gl;\n    if (this.previewFbo) {\n      gl.deleteFramebuffer(this.previewFbo);\n      this.previewFbo = null;\n    }\n    if (this.previewTexture) {\n      gl.deleteTexture(this.previewTexture);\n      this.previewTexture = null;\n    }\n  }\n}\nclass TextureCaptureWebGPU {\n  constructor(device, width = DEFAULT_PREVIEW_WIDTH, height = DEFAULT_PREVIEW_HEIGHT) {\n    this.previewTexture = null;\n    this.stagingBuffer = null;\n    this.blitPipeline = null;\n    this.sampler = null;\n    this.bindGroupLayout = null;\n    this.initialized = false;\n    this.device = device;\n    this.previewWidth = width;\n    this.previewHeight = height;\n    this.pixelsBuffer = new Uint8ClampedArray(width * height * 4);\n  }\n  /**\n   * Resize preview dimensions\n   */\n  resize(width, height) {\n    if (width === this.previewWidth && height === this.previewHeight)\n      return;\n    this.previewWidth = width;\n    this.previewHeight = height;\n    this.pixelsBuffer = new Uint8ClampedArray(width * height * 4);\n    if (this.previewTexture)\n      this.previewTexture.destroy();\n    if (this.stagingBuffer)\n      this.stagingBuffer.destroy();\n    this.previewTexture = null;\n    this.stagingBuffer = null;\n    if (this.initialized) {\n      this.createSizeResources();\n    }\n  }\n  createSizeResources() {\n    const device = this.device;\n    this.previewTexture = device.createTexture({\n      size: { width: this.previewWidth, height: this.previewHeight },\n      format: \"rgba8unorm\",\n      usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC\n    });\n    const bytesPerRow = Math.ceil(this.previewWidth * 4 / 256) * 256;\n    this.stagingBuffer = device.createBuffer({\n      size: bytesPerRow * this.previewHeight,\n      usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ\n    });\n  }\n  async initResources() {\n    if (this.initialized)\n      return;\n    const device = this.device;\n    this.createSizeResources();\n    this.sampler = device.createSampler({\n      minFilter: \"linear\",\n      magFilter: \"linear\"\n    });\n    const shaderModule = device.createShaderModule({\n      code: `\n        @group(0) @binding(0) var texSampler: sampler;\n        @group(0) @binding(1) var texInput: texture_2d<f32>;\n\n        struct VertexOutput {\n          @builtin(position) position: vec4f,\n          @location(0) uv: vec2f\n        }\n\n        @vertex\n        fn vertexMain(@builtin(vertex_index) vertexIndex: u32) -> VertexOutput {\n          var positions = array<vec2f, 3>(\n            vec2f(-1.0, -1.0),\n            vec2f(3.0, -1.0),\n            vec2f(-1.0, 3.0)\n          );\n          var uvs = array<vec2f, 3>(\n            vec2f(0.0, 1.0),\n            vec2f(2.0, 1.0),\n            vec2f(0.0, -1.0)\n          );\n\n          var output: VertexOutput;\n          output.position = vec4f(positions[vertexIndex], 0.0, 1.0);\n          output.uv = uvs[vertexIndex];\n          return output;\n        }\n\n        @fragment\n        fn fragmentMain(@location(0) uv: vec2f) -> @location(0) vec4f {\n          return textureSample(texInput, texSampler, uv);\n        }\n      `\n    });\n    this.bindGroupLayout = device.createBindGroupLayout({\n      entries: [\n        { binding: 0, visibility: GPUShaderStage.FRAGMENT, sampler: { type: \"filtering\" } },\n        { binding: 1, visibility: GPUShaderStage.FRAGMENT, texture: { sampleType: \"float\" } }\n      ]\n    });\n    this.blitPipeline = device.createRenderPipeline({\n      layout: device.createPipelineLayout({ bindGroupLayouts: [this.bindGroupLayout] }),\n      vertex: {\n        module: shaderModule,\n        entryPoint: \"vertexMain\"\n      },\n      fragment: {\n        module: shaderModule,\n        entryPoint: \"fragmentMain\",\n        targets: [{ format: \"rgba8unorm\" }]\n      },\n      primitive: { topology: \"triangle-list\" }\n    });\n    this.initialized = true;\n  }\n  async capture(source) {\n    await this.initResources();\n    if (!this.previewTexture || !this.stagingBuffer || !this.blitPipeline || !this.sampler || !this.bindGroupLayout) {\n      return null;\n    }\n    const device = this.device;\n    const bindGroup = device.createBindGroup({\n      layout: this.bindGroupLayout,\n      entries: [\n        { binding: 0, resource: this.sampler },\n        { binding: 1, resource: source.createView() }\n      ]\n    });\n    const commandEncoder = device.createCommandEncoder();\n    const renderPass = commandEncoder.beginRenderPass({\n      colorAttachments: [{\n        view: this.previewTexture.createView(),\n        loadOp: \"clear\",\n        storeOp: \"store\",\n        clearValue: { r: 0, g: 0, b: 0, a: 1 }\n      }]\n    });\n    renderPass.setPipeline(this.blitPipeline);\n    renderPass.setBindGroup(0, bindGroup);\n    renderPass.draw(3);\n    renderPass.end();\n    const bytesPerRow = Math.ceil(this.previewWidth * 4 / 256) * 256;\n    commandEncoder.copyTextureToBuffer(\n      { texture: this.previewTexture },\n      { buffer: this.stagingBuffer, bytesPerRow },\n      { width: this.previewWidth, height: this.previewHeight }\n    );\n    device.queue.submit([commandEncoder.finish()]);\n    await this.stagingBuffer.mapAsync(GPUMapMode.READ);\n    const data = new Uint8Array(this.stagingBuffer.getMappedRange());\n    for (let y = 0; y < this.previewHeight; y++) {\n      const srcOffset = y * bytesPerRow;\n      const dstOffset = y * this.previewWidth * 4;\n      this.pixelsBuffer.set(data.subarray(srcOffset, srcOffset + this.previewWidth * 4), dstOffset);\n    }\n    this.stagingBuffer.unmap();\n    const imageData = new ImageData(new Uint8ClampedArray(this.pixelsBuffer), this.previewWidth, this.previewHeight);\n    return createImageBitmap(imageData);\n  }\n  dispose() {\n    if (this.previewTexture)\n      this.previewTexture.destroy();\n    if (this.stagingBuffer)\n      this.stagingBuffer.destroy();\n    this.previewTexture = null;\n    this.stagingBuffer = null;\n    this.blitPipeline = null;\n    this.sampler = null;\n    this.bindGroupLayout = null;\n    this.initialized = false;\n  }\n}\nfunction extractWebGLSource(target, gl) {\n  if (target.isWebGLRenderTarget && target.__webglFramebuffer) {\n    return {\n      framebuffer: target.__webglFramebuffer,\n      width: target.width || 1,\n      height: target.height || 1\n    };\n  }\n  return null;\n}\nfunction extractWebGPUSource(target, backend) {\n  if (target.isRenderTarget && target.texture && backend.get) {\n    const textureData = backend.get(target.texture);\n    return (textureData == null ? void 0 : textureData.texture) || null;\n  }\n  return null;\n}\nexport {\n  DEFAULT_PREVIEW_HEIGHT,\n  DEFAULT_PREVIEW_WIDTH,\n  TextureCaptureWebGL,\n  TextureCaptureWebGPU,\n  extractWebGLSource,\n  extractWebGPUSource\n};\n//# sourceMappingURL=textureCapture.js.map\n","import { StatsCore } from \"./core.js\";\nimport { Panel } from \"./panel.js\";\nimport { PanelVSync } from \"./panelVsync.js\";\nimport { PanelTexture } from \"./panelTexture.js\";\nimport { DEFAULT_PREVIEW_WIDTH, DEFAULT_PREVIEW_HEIGHT, TextureCaptureWebGL, TextureCaptureWebGPU, extractWebGLSource, extractWebGPUSource } from \"./textureCapture.js\";\nimport { StatsProfiler } from \"./profiler.js\";\nimport { StatsGLCapture } from \"./statsGLNode.js\";\nconst _Stats = class _Stats2 extends StatsCore {\n  constructor({\n    trackGPU = false,\n    trackCPT = false,\n    trackHz = false,\n    trackFPS = true,\n    logsPerSecond = 4,\n    graphsPerSecond = 30,\n    samplesLog = 40,\n    samplesGraph = 10,\n    precision = 2,\n    minimal = false,\n    horizontal = true,\n    mode = 0\n  } = {}) {\n    super({\n      trackGPU,\n      trackCPT,\n      trackHz,\n      trackFPS,\n      logsPerSecond,\n      graphsPerSecond,\n      samplesLog,\n      samplesGraph,\n      precision\n    });\n    this.fpsPanel = null;\n    this.msPanel = null;\n    this.gpuPanel = null;\n    this.gpuPanelCompute = null;\n    this.vsyncPanel = null;\n    this.workerCpuPanel = null;\n    this.texturePanels = /* @__PURE__ */ new Map();\n    this.texturePanelRow = null;\n    this.textureCaptureWebGL = null;\n    this.textureCaptureWebGPU = null;\n    this.textureSourcesWebGL = /* @__PURE__ */ new Map();\n    this.textureSourcesWebGPU = /* @__PURE__ */ new Map();\n    this.texturePreviewWidth = DEFAULT_PREVIEW_WIDTH;\n    this.texturePreviewHeight = DEFAULT_PREVIEW_HEIGHT;\n    this.lastRendererWidth = 0;\n    this.lastRendererHeight = 0;\n    this.textureUpdatePending = false;\n    this.updateCounter = 0;\n    this.lastMin = {};\n    this.lastMax = {};\n    this.lastValue = {};\n    this.VSYNC_RATES = [\n      { refreshRate: 60, frameTime: 16.67 },\n      { refreshRate: 75, frameTime: 13.33 },\n      { refreshRate: 90, frameTime: 11.11 },\n      { refreshRate: 120, frameTime: 8.33 },\n      { refreshRate: 144, frameTime: 6.94 },\n      { refreshRate: 165, frameTime: 6.06 },\n      { refreshRate: 240, frameTime: 4.17 }\n    ];\n    this.detectedVSync = null;\n    this.frameTimeHistory = [];\n    this.HISTORY_SIZE = 120;\n    this.VSYNC_THRESHOLD = 0.05;\n    this.lastFrameTime = 0;\n    this.externalData = null;\n    this.hasNewExternalData = false;\n    this.isWorker = false;\n    this.averageWorkerCpu = { logs: [], graph: [] };\n    this.handleClick = (event) => {\n      event.preventDefault();\n      this.showPanel(++this.mode % this.dom.children.length);\n    };\n    this.handleResize = () => {\n      if (this.fpsPanel)\n        this.resizePanel(this.fpsPanel);\n      if (this.msPanel)\n        this.resizePanel(this.msPanel);\n      if (this.workerCpuPanel)\n        this.resizePanel(this.workerCpuPanel);\n      if (this.gpuPanel)\n        this.resizePanel(this.gpuPanel);\n      if (this.gpuPanelCompute)\n        this.resizePanel(this.gpuPanelCompute);\n    };\n    this.mode = mode;\n    this.horizontal = horizontal;\n    this.minimal = minimal;\n    this.dom = document.createElement(\"div\");\n    this.initializeDOM();\n    this._panelId = 0;\n    if (this.trackFPS) {\n      this.fpsPanel = this.addPanel(new _Stats2.Panel(\"FPS\", \"#0ff\", \"#002\"));\n      this.msPanel = this.addPanel(new _Stats2.Panel(\"CPU\", \"#0f0\", \"#020\"));\n    }\n    if (this.trackGPU) {\n      this.gpuPanel = this.addPanel(new _Stats2.Panel(\"GPU\", \"#ff0\", \"#220\"));\n    }\n    if (this.trackCPT) {\n      this.gpuPanelCompute = this.addPanel(new _Stats2.Panel(\"CPT\", \"#e1e1e1\", \"#212121\"));\n    }\n    if (this.trackHz === true) {\n      this.vsyncPanel = new PanelVSync(\"\", \"#f0f\", \"#202\");\n      this.dom.appendChild(this.vsyncPanel.canvas);\n      this.vsyncPanel.setOffset(56, 35);\n    }\n    this.setupEventListeners();\n  }\n  initializeDOM() {\n    this.dom.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      opacity: 0.9;\n      z-index: 10000;\n      ${this.minimal ? \"cursor: pointer;\" : \"\"}\n    `;\n  }\n  setupEventListeners() {\n    if (this.minimal) {\n      this.dom.addEventListener(\"click\", this.handleClick);\n      this.showPanel(this.mode);\n    } else {\n      window.addEventListener(\"resize\", this.handleResize);\n    }\n  }\n  /**\n   * Compute and update texture preview dimensions based on renderer aspect ratio\n   */\n  updateTexturePreviewDimensions() {\n    var _a, _b;\n    if (!this.renderer)\n      return;\n    const rendererWidth = ((_a = this.renderer.domElement) == null ? void 0 : _a.width) || 0;\n    const rendererHeight = ((_b = this.renderer.domElement) == null ? void 0 : _b.height) || 0;\n    if (rendererWidth === this.lastRendererWidth && rendererHeight === this.lastRendererHeight) {\n      return;\n    }\n    if (rendererWidth === 0 || rendererHeight === 0)\n      return;\n    this.lastRendererWidth = rendererWidth;\n    this.lastRendererHeight = rendererHeight;\n    const sourceAspect = rendererWidth / rendererHeight;\n    const panelAspect = DEFAULT_PREVIEW_WIDTH / DEFAULT_PREVIEW_HEIGHT;\n    let newWidth;\n    let newHeight;\n    if (sourceAspect > panelAspect) {\n      newWidth = DEFAULT_PREVIEW_WIDTH;\n      newHeight = Math.round(DEFAULT_PREVIEW_WIDTH / sourceAspect);\n    } else {\n      newHeight = DEFAULT_PREVIEW_HEIGHT;\n      newWidth = Math.round(DEFAULT_PREVIEW_HEIGHT * sourceAspect);\n    }\n    newWidth = Math.max(newWidth, 16);\n    newHeight = Math.max(newHeight, 16);\n    if (newWidth !== this.texturePreviewWidth || newHeight !== this.texturePreviewHeight) {\n      this.texturePreviewWidth = newWidth;\n      this.texturePreviewHeight = newHeight;\n      if (this.textureCaptureWebGL) {\n        this.textureCaptureWebGL.resize(newWidth, newHeight);\n      }\n      if (this.textureCaptureWebGPU) {\n        this.textureCaptureWebGPU.resize(newWidth, newHeight);\n      }\n      for (const panel of this.texturePanels.values()) {\n        panel.setSourceSize(rendererWidth, rendererHeight);\n      }\n    }\n  }\n  onWebGPUTimestampSupported() {\n  }\n  onGPUTrackingInitialized() {\n  }\n  setData(data) {\n    this.externalData = data;\n    this.hasNewExternalData = true;\n    if (!this.isWorker && this.msPanel) {\n      this.isWorker = true;\n      this.workerCpuPanel = new _Stats2.Panel(\"WRK\", \"#f90\", \"#220\");\n      const insertPosition = this.msPanel.id + 1;\n      this.workerCpuPanel.id = insertPosition;\n      if (this.gpuPanel && this.gpuPanel.id >= insertPosition) {\n        this.gpuPanel.id++;\n        this.resizePanel(this.gpuPanel);\n      }\n      if (this.gpuPanelCompute && this.gpuPanelCompute.id >= insertPosition) {\n        this.gpuPanelCompute.id++;\n        this.resizePanel(this.gpuPanelCompute);\n      }\n      const msCanvas = this.msPanel.canvas;\n      if (msCanvas.nextSibling) {\n        this.dom.insertBefore(this.workerCpuPanel.canvas, msCanvas.nextSibling);\n      } else {\n        this.dom.appendChild(this.workerCpuPanel.canvas);\n      }\n      this.resizePanel(this.workerCpuPanel);\n      this._panelId++;\n    }\n  }\n  update() {\n    if (this.externalData) {\n      this.updateFromExternalData();\n    } else {\n      this.updateFromInternalData();\n    }\n  }\n  updateFromExternalData() {\n    const data = this.externalData;\n    this.endProfiling(\"cpu-started\", \"cpu-finished\", \"cpu-duration\");\n    this.addToAverage(this.totalCpuDuration, this.averageCpu);\n    this.totalCpuDuration = 0;\n    if (this.hasNewExternalData) {\n      this.addToAverage(data.cpu, this.averageWorkerCpu);\n      this.addToAverage(data.fps, this.averageFps);\n      this.addToAverage(data.gpu, this.averageGpu);\n      this.addToAverage(data.gpuCompute, this.averageGpuCompute);\n      this.hasNewExternalData = false;\n    }\n    this.renderPanels();\n  }\n  updateFromInternalData() {\n    this.endProfiling(\"cpu-started\", \"cpu-finished\", \"cpu-duration\");\n    if (this.webgpuNative) {\n      this.resolveTimestampsAsync();\n    } else if (!this.info) {\n      this.processGpuQueries();\n    } else {\n      this.processWebGPUTimestamps();\n    }\n    this.updateAverages();\n    this.resetCounters();\n    this.renderPanels();\n  }\n  renderPanels() {\n    var _a;\n    const currentTime = performance.now();\n    if (!this.isWorker) {\n      this.frameTimes.push(currentTime);\n      while (this.frameTimes.length > 0 && this.frameTimes[0] <= currentTime - 1e3) {\n        this.frameTimes.shift();\n      }\n      const fps = Math.round(this.frameTimes.length);\n      this.addToAverage(fps, this.averageFps);\n    }\n    const shouldUpdateText = currentTime >= this.prevTextTime + 1e3 / this.logsPerSecond;\n    const shouldUpdateGraph = currentTime >= this.prevGraphTime + 1e3 / this.graphsPerSecond;\n    const suffix = this.isWorker ? \" ⛭\" : \"\";\n    this.updatePanelComponents(this.fpsPanel, this.averageFps, 0, shouldUpdateText, shouldUpdateGraph, suffix);\n    this.updatePanelComponents(this.msPanel, this.averageCpu, this.precision, shouldUpdateText, shouldUpdateGraph, \"\");\n    if (this.workerCpuPanel && this.isWorker) {\n      this.updatePanelComponents(this.workerCpuPanel, this.averageWorkerCpu, this.precision, shouldUpdateText, shouldUpdateGraph, \" ⛭\");\n    }\n    if (this.gpuPanel) {\n      this.updatePanelComponents(this.gpuPanel, this.averageGpu, this.precision, shouldUpdateText, shouldUpdateGraph, suffix);\n    }\n    if (this.trackCPT && this.gpuPanelCompute) {\n      this.updatePanelComponents(this.gpuPanelCompute, this.averageGpuCompute, this.precision, shouldUpdateText, shouldUpdateGraph, suffix);\n    }\n    if (shouldUpdateText) {\n      this.prevTextTime = currentTime;\n    }\n    if (shouldUpdateGraph) {\n      this.prevGraphTime = currentTime;\n      if (this.texturePanels.size > 0 && !this.textureUpdatePending) {\n        this.textureUpdatePending = true;\n        this.updateTexturePanels().finally(() => {\n          this.textureUpdatePending = false;\n        });\n      }\n      this.captureStatsGLNodes();\n    }\n    if (this.vsyncPanel !== null) {\n      this.detectVSync(currentTime);\n      const vsyncValue = ((_a = this.detectedVSync) == null ? void 0 : _a.refreshRate) || 0;\n      if (shouldUpdateText && vsyncValue > 0) {\n        this.vsyncPanel.update(vsyncValue, vsyncValue);\n      }\n    }\n  }\n  resetCounters() {\n    this.renderCount = 0;\n    this.totalCpuDuration = 0;\n    this.beginTime = performance.now();\n  }\n  resizePanel(panel) {\n    panel.canvas.style.position = \"absolute\";\n    if (this.minimal) {\n      panel.canvas.style.display = \"none\";\n    } else {\n      panel.canvas.style.display = \"block\";\n      if (this.horizontal) {\n        panel.canvas.style.top = \"0px\";\n        panel.canvas.style.left = panel.id * panel.WIDTH / panel.PR + \"px\";\n      } else {\n        panel.canvas.style.left = \"0px\";\n        panel.canvas.style.top = panel.id * panel.HEIGHT / panel.PR + \"px\";\n      }\n    }\n  }\n  addPanel(panel) {\n    if (panel.canvas) {\n      this.dom.appendChild(panel.canvas);\n      panel.id = this._panelId;\n      this.resizePanel(panel);\n      this._panelId++;\n    }\n    return panel;\n  }\n  showPanel(id) {\n    for (let i = 0; i < this.dom.children.length; i++) {\n      const child = this.dom.children[i];\n      child.style.display = i === id ? \"block\" : \"none\";\n    }\n    this.mode = id;\n  }\n  // ==========================================================================\n  // Texture Panel API\n  // ==========================================================================\n  /**\n   * Add a new texture preview panel\n   * @param name - Label for the texture panel\n   * @returns The created PanelTexture instance\n   */\n  addTexturePanel(name) {\n    if (!this.texturePanelRow) {\n      this.texturePanelRow = document.createElement(\"div\");\n      this.texturePanelRow.style.cssText = `\n        position: absolute;\n        top: 48px;\n        left: 0;\n        display: flex;\n        flex-direction: row;\n      `;\n      this.dom.appendChild(this.texturePanelRow);\n    }\n    const panel = new PanelTexture(name);\n    panel.canvas.style.position = \"relative\";\n    panel.canvas.style.left = \"\";\n    panel.canvas.style.top = \"\";\n    this.texturePanelRow.appendChild(panel.canvas);\n    this.texturePanels.set(name, panel);\n    return panel;\n  }\n  /**\n   * Set texture source for a panel (Three.js render target)\n   * Auto-detects WebGL/WebGPU and extracts native handles\n   * @param name - Panel name\n   * @param source - Three.js RenderTarget or native texture\n   */\n  setTexture(name, source) {\n    this.updateTexturePreviewDimensions();\n    if (this.gl && !this.textureCaptureWebGL) {\n      this.textureCaptureWebGL = new TextureCaptureWebGL(this.gl, this.texturePreviewWidth, this.texturePreviewHeight);\n    }\n    if (this.gpuDevice && !this.textureCaptureWebGPU) {\n      this.textureCaptureWebGPU = new TextureCaptureWebGPU(this.gpuDevice, this.texturePreviewWidth, this.texturePreviewHeight);\n    }\n    const panel = this.texturePanels.get(name);\n    if (source.isWebGLRenderTarget && this.gl) {\n      const webglSource = extractWebGLSource(source, this.gl);\n      if (webglSource) {\n        this.textureSourcesWebGL.set(name, {\n          target: source,\n          ...webglSource\n        });\n        if (panel) {\n          panel.setSourceSize(webglSource.width, webglSource.height);\n        }\n      }\n      return;\n    }\n    if (source.isRenderTarget && this.gpuBackend) {\n      const gpuTexture = extractWebGPUSource(source, this.gpuBackend);\n      if (gpuTexture) {\n        this.textureSourcesWebGPU.set(name, gpuTexture);\n        if (panel && source.width && source.height) {\n          panel.setSourceSize(source.width, source.height);\n        }\n      }\n      return;\n    }\n    if (source && typeof source.createView === \"function\") {\n      this.textureSourcesWebGPU.set(name, source);\n      return;\n    }\n  }\n  /**\n   * Set WebGL framebuffer source with explicit dimensions\n   * @param name - Panel name\n   * @param framebuffer - WebGL framebuffer\n   * @param width - Texture width\n   * @param height - Texture height\n   */\n  setTextureWebGL(name, framebuffer, width, height) {\n    this.updateTexturePreviewDimensions();\n    if (this.gl && !this.textureCaptureWebGL) {\n      this.textureCaptureWebGL = new TextureCaptureWebGL(this.gl, this.texturePreviewWidth, this.texturePreviewHeight);\n    }\n    this.textureSourcesWebGL.set(name, {\n      target: { isWebGLRenderTarget: true },\n      framebuffer,\n      width,\n      height\n    });\n    const panel = this.texturePanels.get(name);\n    if (panel) {\n      panel.setSourceSize(width, height);\n    }\n  }\n  /**\n   * Set texture from ImageBitmap (for worker mode)\n   * @param name - Panel name\n   * @param bitmap - ImageBitmap transferred from worker\n   * @param sourceWidth - Optional source texture width for aspect ratio\n   * @param sourceHeight - Optional source texture height for aspect ratio\n   */\n  setTextureBitmap(name, bitmap, sourceWidth, sourceHeight) {\n    const panel = this.texturePanels.get(name);\n    if (panel) {\n      if (sourceWidth !== void 0 && sourceHeight !== void 0) {\n        panel.setSourceSize(sourceWidth, sourceHeight);\n      }\n      panel.updateTexture(bitmap);\n    }\n  }\n  /**\n   * Remove a texture panel\n   * @param name - Panel name to remove\n   */\n  removeTexturePanel(name) {\n    const panel = this.texturePanels.get(name);\n    if (panel) {\n      panel.dispose();\n      panel.canvas.remove();\n      this.texturePanels.delete(name);\n      this.textureSourcesWebGL.delete(name);\n      this.textureSourcesWebGPU.delete(name);\n    }\n  }\n  /**\n   * Capture and update all texture panels\n   * Called automatically during renderPanels at graphsPerSecond rate\n   */\n  async updateTexturePanels() {\n    this.updateTexturePreviewDimensions();\n    if (this.textureCaptureWebGL) {\n      for (const [name, source] of this.textureSourcesWebGL) {\n        const panel = this.texturePanels.get(name);\n        if (panel) {\n          let framebuffer = source.framebuffer;\n          let width = source.width;\n          let height = source.height;\n          if (source.target.isWebGLRenderTarget && source.target.__webglFramebuffer) {\n            framebuffer = source.target.__webglFramebuffer;\n            width = source.target.width || width;\n            height = source.target.height || height;\n          }\n          const bitmap = await this.textureCaptureWebGL.capture(framebuffer, width, height, name);\n          if (bitmap) {\n            panel.updateTexture(bitmap);\n          }\n        }\n      }\n    }\n    if (this.textureCaptureWebGPU) {\n      for (const [name, gpuTexture] of this.textureSourcesWebGPU) {\n        const panel = this.texturePanels.get(name);\n        if (panel) {\n          const bitmap = await this.textureCaptureWebGPU.capture(gpuTexture);\n          if (bitmap) {\n            panel.updateTexture(bitmap);\n          }\n        }\n      }\n    }\n  }\n  /**\n   * Capture StatsGL nodes registered by the addon\n   */\n  captureStatsGLNodes() {\n    const captures = this._statsGLCaptures;\n    if (!captures || captures.size === 0 || !this.renderer)\n      return;\n    for (const captureData of captures.values()) {\n      if (captureData.capture) {\n        captureData.capture(this.renderer);\n      }\n    }\n  }\n  detectVSync(currentTime) {\n    if (this.lastFrameTime === 0) {\n      this.lastFrameTime = currentTime;\n      return;\n    }\n    const frameTime = currentTime - this.lastFrameTime;\n    this.lastFrameTime = currentTime;\n    this.frameTimeHistory.push(frameTime);\n    if (this.frameTimeHistory.length > this.HISTORY_SIZE) {\n      this.frameTimeHistory.shift();\n    }\n    if (this.frameTimeHistory.length < 60)\n      return;\n    const avgFrameTime = this.frameTimeHistory.reduce((a, b) => a + b) / this.frameTimeHistory.length;\n    const variance = this.frameTimeHistory.reduce((acc, time) => acc + Math.pow(time - avgFrameTime, 2), 0) / this.frameTimeHistory.length;\n    const stability = Math.sqrt(variance);\n    if (stability > 2) {\n      this.detectedVSync = null;\n      return;\n    }\n    let closestMatch = null;\n    let smallestDiff = Infinity;\n    for (const rate of this.VSYNC_RATES) {\n      const diff = Math.abs(avgFrameTime - rate.frameTime);\n      if (diff < smallestDiff) {\n        smallestDiff = diff;\n        closestMatch = rate;\n      }\n    }\n    if (closestMatch && smallestDiff / closestMatch.frameTime <= this.VSYNC_THRESHOLD) {\n      this.detectedVSync = closestMatch;\n    } else {\n      this.detectedVSync = null;\n    }\n  }\n  updatePanelComponents(panel, averageArray, precision, shouldUpdateText, shouldUpdateGraph, suffix = \"\") {\n    if (!panel || averageArray.logs.length === 0)\n      return;\n    const key = String(panel.id);\n    if (!(key in this.lastMin)) {\n      this.lastMin[key] = Infinity;\n      this.lastMax[key] = 0;\n      this.lastValue[key] = 0;\n    }\n    const currentValue = averageArray.logs[averageArray.logs.length - 1];\n    this.lastMax[key] = Math.max(...averageArray.logs);\n    this.lastMin[key] = Math.min(this.lastMin[key], currentValue);\n    this.lastValue[key] = this.lastValue[key] * 0.7 + currentValue * 0.3;\n    const graphMax = Math.max(\n      Math.max(...averageArray.logs),\n      ...averageArray.graph.slice(-this.samplesGraph)\n    );\n    this.updateCounter++;\n    if (shouldUpdateText) {\n      panel.update(\n        this.lastValue[key],\n        this.lastMax[key],\n        precision,\n        suffix\n      );\n    }\n    if (shouldUpdateGraph) {\n      panel.updateGraph(\n        currentValue,\n        graphMax\n      );\n    }\n  }\n  updatePanel(panel, averageArray, precision = 2) {\n    if (!panel || averageArray.logs.length === 0)\n      return;\n    const currentTime = performance.now();\n    if (!(panel.name in this.lastMin)) {\n      this.lastMin[panel.name] = Infinity;\n      this.lastMax[panel.name] = 0;\n      this.lastValue[panel.name] = 0;\n    }\n    const currentValue = averageArray.logs[averageArray.logs.length - 1];\n    const recentMax = Math.max(...averageArray.logs.slice(-30));\n    this.lastMin[panel.name] = Math.min(this.lastMin[panel.name], currentValue);\n    this.lastMax[panel.name] = Math.max(this.lastMax[panel.name], currentValue);\n    this.lastValue[panel.name] = this.lastValue[panel.name] * 0.7 + currentValue * 0.3;\n    const graphMax = Math.max(recentMax, ...averageArray.graph.slice(-this.samplesGraph));\n    this.updateCounter++;\n    if (this.updateCounter % (this.logsPerSecond * 2) === 0) {\n      this.lastMax[panel.name] = recentMax;\n      this.lastMin[panel.name] = currentValue;\n    }\n    if (panel.update) {\n      if (currentTime >= this.prevCpuTime + 1e3 / this.logsPerSecond) {\n        panel.update(\n          this.lastValue[panel.name],\n          currentValue,\n          this.lastMax[panel.name],\n          graphMax,\n          precision\n        );\n      }\n      if (currentTime >= this.prevGraphTime + 1e3 / this.graphsPerSecond) {\n        panel.updateGraph(\n          currentValue,\n          graphMax\n        );\n        this.prevGraphTime = currentTime;\n      }\n    }\n  }\n  get domElement() {\n    return this.dom;\n  }\n  /**\n   * Dispose of all resources. Call when done using Stats.\n   */\n  dispose() {\n    if (this.minimal) {\n      this.dom.removeEventListener(\"click\", this.handleClick);\n    } else {\n      window.removeEventListener(\"resize\", this.handleResize);\n    }\n    if (this.textureCaptureWebGL) {\n      this.textureCaptureWebGL.dispose();\n      this.textureCaptureWebGL = null;\n    }\n    if (this.textureCaptureWebGPU) {\n      this.textureCaptureWebGPU.dispose();\n      this.textureCaptureWebGPU = null;\n    }\n    for (const panel of this.texturePanels.values()) {\n      panel.dispose();\n    }\n    this.texturePanels.clear();\n    this.textureSourcesWebGL.clear();\n    this.textureSourcesWebGPU.clear();\n    const captures = this._statsGLCaptures;\n    if (captures) {\n      for (const captureData of captures.values()) {\n        if (captureData.dispose) {\n          captureData.dispose();\n        }\n      }\n      captures.clear();\n    }\n    if (this.texturePanelRow) {\n      this.texturePanelRow.remove();\n      this.texturePanelRow = null;\n    }\n    this.dom.remove();\n    this.fpsPanel = null;\n    this.msPanel = null;\n    this.gpuPanel = null;\n    this.gpuPanelCompute = null;\n    this.vsyncPanel = null;\n    this.workerCpuPanel = null;\n    this.frameTimeHistory.length = 0;\n    this.averageWorkerCpu.logs.length = 0;\n    this.averageWorkerCpu.graph.length = 0;\n    super.dispose();\n  }\n};\n_Stats.Panel = Panel;\n_Stats.PanelTexture = PanelTexture;\nlet Stats = _Stats;\nexport {\n  PanelTexture,\n  StatsGLCapture,\n  StatsProfiler,\n  TextureCaptureWebGL,\n  TextureCaptureWebGPU,\n  Stats as default\n};\n//# sourceMappingURL=main.js.map\n"],"names":[],"mappings":"AAAA,MAAM,UAAU;AAAA,EACd,YAAY;AAAA,IACV,WAAW;AAAA,IACX,WAAW;AAAA,IACX,UAAU;AAAA,IACV,WAAW;AAAA,IACX,gBAAgB;AAAA,IAChB,kBAAkB;AAAA,IAClB,aAAa;AAAA,IACb,eAAe;AAAA,IACf,YAAY;AAAA,EAChB,IAAM,IAAI;AACN,SAAK,KAAK;AACV,SAAK,MAAM;AACX,SAAK,YAAY;AACjB,SAAK,aAAa;AAClB,SAAK,WAAW;AAChB,SAAK,cAAc;AACnB,SAAK,aAAa,CAAA;AAClB,SAAK,uBAAuB;AAC5B,SAAK,eAAe;AACpB,SAAK,cAAc;AACnB,SAAK,mBAAmB;AACxB,SAAK,iBAAiB,CAAA;AACtB,SAAK,sBAAsB;AAC3B,SAAK,gBAAgB;AACrB,SAAK,iBAAiB;AACtB,SAAK,aAAa,CAAA;AAClB,SAAK,cAAc;AACnB,SAAK,mBAAmB;AACxB,SAAK,mBAAmB;AACxB,SAAK,0BAA0B;AAC/B,SAAK,aAAa,EAAE,MAAM,CAAA,GAAI,OAAO,CAAA,EAAE;AACvC,SAAK,aAAa,EAAE,MAAM,CAAA,GAAI,OAAO,CAAA,EAAE;AACvC,SAAK,aAAa,EAAE,MAAM,CAAA,GAAI,OAAO,CAAA,EAAE;AACvC,SAAK,oBAAoB,EAAE,MAAM,CAAA,GAAI,OAAO,CAAA,EAAE;AAC9C,SAAK,WAAW;AAChB,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,WAAW;AAChB,SAAK,aAAa;AAClB,SAAK,eAAe;AACpB,SAAK,YAAY;AACjB,SAAK,gBAAgB;AACrB,SAAK,kBAAkB;AACvB,UAAM,MAAM,YAAY,IAAG;AAC3B,SAAK,gBAAgB;AACrB,SAAK,YAAY;AACjB,SAAK,eAAe;AACpB,SAAK,cAAc;AAAA,EACrB;AAAA,EACA,MAAM,KAAK,YAAY;AACrB,QAAI,CAAC,YAAY;AACf,cAAQ,MAAM,6CAA6C;AAC3D;AAAA,IACF;AACA,QAAI,KAAK,oBAAoB,UAAU;AACrC;AACF,QAAI,MAAM,KAAK,qBAAqB,UAAU;AAC5C;AACF,QAAI,KAAK,mBAAmB,UAAU;AACpC;AACF,QAAI,KAAK,gBAAgB,UAAU,GAAG;AACpC,UAAI,KAAK,UAAU;AACjB,aAAK,sBAAqB;AAAA,MAC5B;AACA;AAAA,IACF,OAAO;AACL,cAAQ,MAAM,8CAA8C;AAAA,IAC9D;AAAA,EACF;AAAA,EACA,mBAAmB,QAAQ;AACzB,QAAI;AACJ,QAAI,UAAU,OAAO,OAAO,yBAAyB,cAAc,OAAO,OAAO,mBAAmB,cAAc,OAAO,OAAO;AAC9H,WAAK,YAAY;AACjB,WAAK,eAAe;AACpB,UAAI,KAAK,cAAc,KAAK,OAAO,aAAa,OAAO,SAAS,GAAG,IAAI,iBAAiB,IAAI;AAC1F,aAAK,uBAAsB;AAC3B,aAAK,2BAA0B;AAAA,MACjC;AACA,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EACA,yBAAyB;AACvB,QAAI,CAAC,KAAK;AACR;AACF,SAAK,cAAc,KAAK,UAAU,eAAe;AAAA,MAC/C,MAAM;AAAA,MACN,OAAO;AAAA,IACb,CAAK;AACD,SAAK,mBAAmB,KAAK,UAAU,aAAa;AAAA,MAClD,MAAM;AAAA,MACN,OAAO,eAAe,gBAAgB,eAAe;AAAA,IAC3D,CAAK;AACD,aAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,WAAK,eAAe,KAAK,KAAK,UAAU,aAAa;AAAA,QACnD,MAAM;AAAA,QACN,OAAO,eAAe,WAAW,eAAe;AAAA,MACxD,CAAO,CAAC;AAAA,IACJ;AAAA,EACF;AAAA,EACA,oBAAoB,UAAU;AAC5B,QAAI,SAAS,mBAAmB,CAAC,KAAK,sBAAsB;AAC1D,WAAK,mBAAmB,QAAQ;AAChC,WAAK,KAAK,SAAS,WAAU;AAC7B,UAAI,KAAK,UAAU;AACjB,aAAK,sBAAqB;AAAA,MAC5B;AACA,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EACA,MAAM,qBAAqB,UAAU;AACnC,QAAI;AACJ,QAAI,SAAS,kBAAkB;AAC7B,WAAK,WAAW;AAChB,UAAI,KAAK,YAAY,KAAK,UAAU;AAClC,iBAAS,QAAQ,iBAAiB;AAClC,YAAI,CAAC,SAAS,cAAc;AAC1B,gBAAM,SAAS,KAAI;AAAA,QACrB;AACA,YAAI,SAAS,WAAW,iBAAiB,GAAG;AAC1C,eAAK,2BAA0B;AAAA,QACjC;AAAA,MACF;AACA,WAAK,OAAO,SAAS;AACrB,WAAK,aAAa,SAAS;AAC3B,WAAK,cAAc,KAAK,SAAS,YAAY,OAAO,SAAS,GAAG,WAAW;AAC3E,WAAK,iBAAiB,QAAQ;AAC9B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EACA,6BAA6B;AAAA,EAC7B;AAAA,EACA,gBAAgB,YAAY;AAC1B,QAAI,sBAAsB,wBAAwB;AAChD,WAAK,KAAK;AAAA,IACZ,WAAW,sBAAsB,qBAAqB,sBAAsB,iBAAiB;AAC3F,WAAK,KAAK,WAAW,WAAW,QAAQ;AACxC,UAAI,CAAC,KAAK,IAAI;AACZ,gBAAQ,MAAM,yCAAyC;AACvD,eAAO;AAAA,MACT;AAAA,IACF,OAAO;AACL,cAAQ;AAAA,QACN;AAAA,MACR;AACM,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EACA,wBAAwB;AACtB,QAAI,KAAK,IAAI;AACX,WAAK,MAAM,KAAK,GAAG,aAAa,iCAAiC;AACjE,UAAI,KAAK,KAAK;AACZ,aAAK,yBAAwB;AAAA,MAC/B;AAAA,IACF;AAAA,EACF;AAAA,EACA,2BAA2B;AAAA,EAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,qBAAqB;AACnB,QAAI,CAAC,KAAK,gBAAgB,CAAC,KAAK;AAC9B,aAAO;AACT,WAAO;AAAA,MACL,UAAU,KAAK;AAAA,MACf,2BAA2B;AAAA,MAC3B,qBAAqB;AAAA,IAC3B;AAAA,EACE;AAAA,EACA,MAAM,SAAS;AACb,SAAK,eAAe,aAAa;AACjC,QAAI,KAAK,cAAc;AACrB;AAAA,IACF;AACA,QAAI,CAAC,KAAK,MAAM,CAAC,KAAK;AACpB;AACF,QAAI,KAAK,aAAa;AACpB,WAAK,GAAG,SAAS,KAAK,IAAI,gBAAgB;AAAA,IAC5C;AACA,SAAK,cAAc,KAAK,GAAG,YAAW;AACtC,QAAI,KAAK,aAAa;AACpB,WAAK,GAAG,WAAW,KAAK,IAAI,kBAAkB,KAAK,WAAW;AAAA,IAChE;AAAA,EACF;AAAA,EACA,IAAI,SAAS;AACX,SAAK;AACL,QAAI,KAAK,gBAAgB,WAAW,KAAK,eAAe,KAAK,oBAAoB,KAAK,eAAe,SAAS,GAAG;AAC/G,WAAK;AACL,YAAM,cAAc,KAAK,eAAe,KAAK,mBAAmB;AAChE,UAAI,YAAY,aAAa,YAAY;AACvC,gBAAQ,gBAAgB,KAAK,aAAa,GAAG,GAAG,KAAK,kBAAkB,CAAC;AACxE,gBAAQ,mBAAmB,KAAK,kBAAkB,GAAG,aAAa,GAAG,EAAE;AAAA,MACzE;AACA,WAAK,aAAa,eAAe,gBAAgB,cAAc;AAC/D;AAAA,IACF;AACA,QAAI,KAAK,MAAM,KAAK,OAAO,KAAK,aAAa;AAC3C,WAAK,GAAG,SAAS,KAAK,IAAI,gBAAgB;AAC1C,WAAK,WAAW,KAAK,EAAE,OAAO,KAAK,aAAa;AAChD,WAAK,cAAc;AAAA,IACrB;AACA,SAAK,aAAa,eAAe,gBAAgB,cAAc;AAAA,EACjE;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,yBAAyB;AAC7B,QAAI,CAAC,KAAK,gBAAgB,KAAK,eAAe,WAAW,GAAG;AAC1D,aAAO,KAAK;AAAA,IACd;AACA,QAAI,KAAK,gBAAgB;AACvB,aAAO,KAAK;AAAA,IACd;AACA,UAAM,mBAAmB,KAAK,sBAAsB,KAAK;AACzD,UAAM,aAAa,KAAK,eAAe,eAAe;AACtD,SAAK,uBAAuB,KAAK,sBAAsB,KAAK;AAC5D,QAAI,KAAK,gBAAgB,GAAG;AAC1B,aAAO,KAAK;AAAA,IACd;AACA,QAAI,WAAW,aAAa,YAAY;AACtC,aAAO,KAAK;AAAA,IACd;AACA,SAAK,iBAAiB,KAAK,mBAAmB,UAAU;AACxD,QAAI;AACF,YAAM,SAAS,MAAM,KAAK;AAC1B,aAAO;AAAA,IACT,UAAC;AACC,WAAK,iBAAiB;AAAA,IACxB;AAAA,EACF;AAAA,EACA,MAAM,mBAAmB,YAAY;AACnC,QAAI;AACF,YAAM,WAAW,SAAS,WAAW,IAAI;AACzC,YAAM,OAAO,IAAI,cAAc,WAAW,eAAc,CAAE;AAC1D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,UAAU,KAAK,CAAC;AACtB,iBAAW,MAAK;AAChB,YAAM,aAAa,OAAO,UAAU,SAAS;AAC7C,WAAK,mBAAmB,aAAa;AACrC,aAAO,KAAK;AAAA,IACd,SAAS,GAAG;AACV,aAAO,KAAK;AAAA,IACd;AAAA,EACF;AAAA,EACA,oBAAoB;AAClB,QAAI,CAAC,KAAK,MAAM,CAAC,KAAK;AACpB;AACF,SAAK,mBAAmB;AACxB,aAAS,IAAI,KAAK,WAAW,SAAS,GAAG,KAAK,GAAG,KAAK;AACpD,YAAM,YAAY,KAAK,WAAW,CAAC;AACnC,YAAM,YAAY,KAAK,GAAG,kBAAkB,UAAU,OAAO,KAAK,GAAG,sBAAsB;AAC3F,YAAM,WAAW,KAAK,GAAG,aAAa,KAAK,IAAI,gBAAgB;AAC/D,UAAI,aAAa,CAAC,UAAU;AAC1B,cAAM,UAAU,KAAK,GAAG,kBAAkB,UAAU,OAAO,KAAK,GAAG,YAAY;AAC/E,cAAM,WAAW,UAAU;AAC3B,aAAK,oBAAoB;AACzB,aAAK,GAAG,YAAY,UAAU,KAAK;AACnC,aAAK,WAAW,OAAO,GAAG,CAAC;AAAA,MAC7B;AAAA,IACF;AAAA,EACF;AAAA,EACA,0BAA0B;AACxB,SAAK,mBAAmB,KAAK,KAAK,OAAO;AACzC,SAAK,0BAA0B,KAAK,KAAK,QAAQ;AAAA,EACnD;AAAA,EACA,eAAe,QAAQ;AACrB,QAAI,OAAO,gBAAgB,aAAa;AACtC,UAAI;AACF,oBAAY,WAAW,MAAM;AAC7B,oBAAY,KAAK,MAAM;AAAA,MACzB,SAAS,OAAO;AACd,gBAAQ,MAAM,sCAAsC,KAAK;AAAA,MAC3D;AAAA,IACF;AAAA,EACF;AAAA,EACA,aAAa,aAAa,WAAW,aAAa;AAChD,QAAI,OAAO,gBAAgB,eAAe,CAAC,aAAa,CAAC;AACvD;AACF,QAAI;AACF,YAAM,UAAU,YAAY,iBAAiB,aAAa,MAAM;AAChE,UAAI,QAAQ,WAAW,GAAG;AACxB,aAAK,eAAe,WAAW;AAAA,MACjC;AACA,kBAAY,WAAW,SAAS;AAChC,kBAAY,KAAK,SAAS;AAC1B,kBAAY,cAAc,WAAW;AACrC,YAAM,aAAa,YAAY,QAAQ,aAAa,aAAa,SAAS;AAC1E,WAAK,oBAAoB,WAAW;AACpC,kBAAY,WAAW,WAAW;AAClC,kBAAY,WAAW,SAAS;AAChC,kBAAY,cAAc,WAAW;AAAA,IACvC,SAAS,OAAO;AACd,cAAQ,MAAM,0CAA0C,KAAK;AAAA,IAC/D;AAAA,EACF;AAAA,EACA,eAAe;AACb,UAAM,cAAc,YAAY,IAAG;AACnC,SAAK,WAAW,KAAK,WAAW;AAChC,WAAO,KAAK,WAAW,SAAS,KAAK,KAAK,WAAW,CAAC,KAAK,cAAc,KAAK;AAC5E,WAAK,WAAW,MAAK;AAAA,IACvB;AACA,WAAO,KAAK,MAAM,KAAK,WAAW,MAAM;AAAA,EAC1C;AAAA,EACA,iBAAiB;AACf,SAAK,aAAa,KAAK,kBAAkB,KAAK,UAAU;AACxD,SAAK,aAAa,KAAK,kBAAkB,KAAK,UAAU;AACxD,QAAI,KAAK,QAAQ,KAAK,4BAA4B,QAAQ;AACxD,WAAK,aAAa,KAAK,yBAAyB,KAAK,iBAAiB;AAAA,IACxE;AAAA,EACF;AAAA,EACA,aAAa,OAAO,cAAc;AAChC,iBAAa,KAAK,KAAK,KAAK;AAC5B,WAAO,aAAa,KAAK,SAAS,KAAK,YAAY;AACjD,mBAAa,KAAK,MAAK;AAAA,IACzB;AACA,iBAAa,MAAM,KAAK,KAAK;AAC7B,WAAO,aAAa,MAAM,SAAS,KAAK,cAAc;AACpD,mBAAa,MAAM,MAAK;AAAA,IAC1B;AAAA,EACF;AAAA,EACA,gBAAgB;AACd,SAAK,cAAc;AACnB,SAAK,mBAAmB;AACxB,SAAK,YAAY,YAAY,IAAG;AAAA,EAClC;AAAA,EACA,UAAU;AACR,UAAM,UAAU,KAAK,WAAW;AAChC,UAAM,UAAU,KAAK,WAAW;AAChC,UAAM,UAAU,KAAK,WAAW;AAChC,UAAM,iBAAiB,KAAK,kBAAkB;AAC9C,WAAO;AAAA,MACL,KAAK,QAAQ,SAAS,IAAI,QAAQ,QAAQ,SAAS,CAAC,IAAI;AAAA,MACxD,KAAK,QAAQ,SAAS,IAAI,QAAQ,QAAQ,SAAS,CAAC,IAAI;AAAA,MACxD,KAAK,QAAQ,SAAS,IAAI,QAAQ,QAAQ,SAAS,CAAC,IAAI;AAAA,MACxD,YAAY,eAAe,SAAS,IAAI,eAAe,eAAe,SAAS,CAAC,IAAI;AAAA,IAC1F;AAAA,EACE;AAAA,EACA,iBAAiB,UAAU;AACzB,UAAM,wBAAwB,SAAS,KAAK;AAC5C,UAAM,gBAAgB;AACtB,aAAS,KAAK,QAAQ,WAAW;AAC/B,oBAAc,eAAe,aAAa;AAC1C,4BAAsB,KAAK,IAAI;AAAA,IACjC;AAAA,EACF;AAAA,EACA,mBAAmB,UAAU;AAC3B,UAAM,uBAAuB,SAAS;AACtC,UAAM,gBAAgB;AACtB,aAAS,SAAS,SAAS,OAAO,QAAQ;AACxC,oBAAc,MAAK;AACnB,2BAAqB,KAAK,MAAM,OAAO,MAAM;AAC7C,oBAAc,IAAG;AAAA,IACnB;AACA,SAAK,uBAAuB;AAAA,EAC9B;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACR,QAAI,KAAK,IAAI;AACX,UAAI,KAAK,eAAe,KAAK,KAAK;AAChC,YAAI;AACF,eAAK,GAAG,SAAS,KAAK,IAAI,gBAAgB;AAAA,QAC5C,SAAS,GAAG;AAAA,QACZ;AACA,aAAK,GAAG,YAAY,KAAK,WAAW;AACpC,aAAK,cAAc;AAAA,MACrB;AACA,iBAAW,aAAa,KAAK,YAAY;AACvC,aAAK,GAAG,YAAY,UAAU,KAAK;AAAA,MACrC;AACA,WAAK,WAAW,SAAS;AAAA,IAC3B;AACA,QAAI,KAAK,aAAa;AACpB,WAAK,YAAY,QAAO;AACxB,WAAK,cAAc;AAAA,IACrB;AACA,QAAI,KAAK,kBAAkB;AACzB,WAAK,iBAAiB,QAAO;AAC7B,WAAK,mBAAmB;AAAA,IAC1B;AACA,eAAW,UAAU,KAAK,gBAAgB;AACxC,UAAI,OAAO,aAAa,UAAU;AAChC,eAAO,MAAK;AAAA,MACd;AACA,aAAO,QAAO;AAAA,IAChB;AACA,SAAK,eAAe,SAAS;AAC7B,SAAK,gBAAgB;AACrB,SAAK,iBAAiB;AACtB,SAAK,eAAe;AACpB,SAAK,KAAK;AACV,SAAK,MAAM;AACX,SAAK,OAAO;AACZ,SAAK,YAAY;AACjB,SAAK,aAAa;AAClB,SAAK,WAAW;AAChB,SAAK,WAAW,SAAS;AACzB,SAAK,WAAW,KAAK,SAAS;AAC9B,SAAK,WAAW,MAAM,SAAS;AAC/B,SAAK,WAAW,KAAK,SAAS;AAC9B,SAAK,WAAW,MAAM,SAAS;AAC/B,SAAK,WAAW,KAAK,SAAS;AAC9B,SAAK,WAAW,MAAM,SAAS;AAC/B,SAAK,kBAAkB,KAAK,SAAS;AACrC,SAAK,kBAAkB,MAAM,SAAS;AAAA,EACxC;AACF;AChaA,MAAM,MAAM;AAAA,EACV,YAAY,MAAM,IAAI,IAAI;AACxB,SAAK,KAAK;AACV,SAAK,OAAO;AACZ,SAAK,KAAK;AACV,SAAK,KAAK;AACV,SAAK,WAAW;AAChB,SAAK,KAAK,KAAK,MAAM,OAAO,WAAW,cAAc,OAAO,oBAAoB,IAAI,CAAC;AACrF,SAAK,QAAQ,KAAK,KAAK;AACvB,SAAK,SAAS,KAAK,KAAK;AACxB,SAAK,SAAS,IAAI,KAAK;AACvB,SAAK,SAAS,IAAI,KAAK;AACvB,SAAK,UAAU,IAAI,KAAK;AACxB,SAAK,UAAU,KAAK,KAAK;AACzB,SAAK,cAAc,KAAK,KAAK;AAC7B,SAAK,eAAe,KAAK,KAAK;AAC9B,SAAK,SAAS,OAAO,aAAa,cAAc,SAAS,cAAc,QAAQ,IAAI,IAAI,gBAAgB,KAAK,OAAO,KAAK,MAAM;AAC9H,SAAK,OAAO,QAAQ,KAAK;AACzB,SAAK,OAAO,SAAS,KAAK;AAC1B,SAAK,OAAO,MAAM,QAAQ;AAC1B,SAAK,OAAO,MAAM,SAAS;AAC3B,SAAK,OAAO,MAAM,WAAW;AAC7B,SAAK,OAAO,MAAM,UAAU;AAC5B,SAAK,UAAU,KAAK,OAAO,WAAW,IAAI;AAC1C,SAAK,iBAAgB;AAAA,EACvB;AAAA,EACA,iBAAiB;AACf,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,YAAY;AAC9B,UAAM,WAAW,KAAK,QAAQ;AAAA,MAC5B;AAAA,MACA,KAAK;AAAA,MACL;AAAA,MACA,KAAK,UAAU,KAAK;AAAA,IAC1B;AACI,QAAI;AACJ,UAAM,WAAW,KAAK;AACtB,YAAQ,KAAK,GAAG,YAAW,GAAE;AAAA,MAC3B,KAAK;AACH,qBAAa;AACb;AAAA,MACF,KAAK;AACH,qBAAa;AACb;AAAA,MACF,KAAK;AACH,qBAAa;AACb;AAAA,MACF,KAAK;AACH,qBAAa;AACb;AAAA,MACF;AACE,qBAAa,KAAK;AAClB;AAAA,IACR;AACI,aAAS,aAAa,GAAG,UAAU;AACnC,aAAS,aAAa,GAAG,QAAQ;AACjC,WAAO;AAAA,EACT;AAAA,EACA,mBAAmB;AACjB,QAAI,CAAC,KAAK;AACR;AACF,SAAK,QAAQ,wBAAwB;AACrC,SAAK,QAAQ,OAAO,UAAU,IAAI,KAAK,KAAK;AAC5C,SAAK,QAAQ,eAAe;AAC5B,SAAK,WAAW,KAAK,eAAc;AACnC,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ,SAAS,GAAG,GAAG,KAAK,OAAO,KAAK,MAAM;AACnD,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ,SAAS,KAAK,MAAM,KAAK,QAAQ,KAAK,MAAM;AACzD,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ,cAAc;AAC3B,SAAK,QAAQ,SAAS,KAAK,SAAS,KAAK,SAAS,KAAK,aAAa,KAAK,YAAY;AAAA,EACvF;AAAA;AAAA,EAEA,OAAO,OAAO,UAAU,WAAW,GAAG,SAAS,IAAI;AACjD,QAAI,CAAC,KAAK,WAAW,CAAC,KAAK;AACzB;AACF,UAAM,MAAM,KAAK,IAAI,UAAU,KAAK;AACpC,UAAM,MAAM,KAAK,IAAI,UAAU,KAAK;AACpC,SAAK,QAAQ,cAAc;AAC3B,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ,SAAS,GAAG,GAAG,KAAK,OAAO,KAAK,OAAO;AACpD,UAAM,eAAe,GAAG,MAAM,QAAQ,QAAQ,CAAC,IAAI,KAAK,IAAI;AAC5D,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ,SAAS,cAAc,KAAK,QAAQ,KAAK,MAAM;AAC5D,QAAI,QAAQ,KAAK,SAAS,KAAK,QAAQ,YAAY,YAAY,EAAE;AACjE,QAAI,QAAQ;AACV,WAAK,QAAQ,YAAY;AACzB,WAAK,QAAQ,SAAS,QAAQ,OAAO,KAAK,MAAM;AAChD,eAAS,KAAK,QAAQ,YAAY,MAAM,EAAE;AAAA,IAC5C;AACA,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ;AAAA,MACX,KAAK,IAAI,QAAQ,QAAQ,CAAC,IAAI,WAAW,IAAI,QAAQ,QAAQ,CAAC,CAAC;AAAA,MAC/D;AAAA,MACA,KAAK;AAAA,IACX;AAAA,EACE;AAAA;AAAA,EAEA,YAAY,YAAY,UAAU;AAChC,QAAI,CAAC,KAAK,WAAW,CAAC,KAAK;AACzB;AACF,QAAI,eAAe,KAAK,aAAa,GAAG;AACtC,iBAAW;AAAA,IACb;AACA,eAAW,KAAK,IAAI,UAAU,YAAY,GAAG;AAC7C,iBAAa,KAAK,IAAI,YAAY,CAAC;AACnC,UAAM,SAAS,KAAK,MAAM,KAAK,OAAO;AACtC,UAAM,SAAS,KAAK,MAAM,KAAK,OAAO;AACtC,UAAM,aAAa,KAAK,MAAM,KAAK,WAAW;AAC9C,UAAM,cAAc,KAAK,MAAM,KAAK,YAAY;AAChD,UAAM,KAAK,KAAK,MAAM,KAAK,EAAE;AAC7B,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,MACT;AAAA,MACA,aAAa;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,MACA,aAAa;AAAA,MACb;AAAA,IACN;AACI,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ;AAAA,MACX,SAAS,aAAa;AAAA,MACtB;AAAA,MACA;AAAA,MACA;AAAA,IACN;AACI,UAAM,eAAe,KAAK;AAAA,MACxB;AAAA,MACA,KAAK,MAAM,aAAa,WAAW,WAAW;AAAA,IACpD;AACI,QAAI,eAAe,GAAG;AACpB,WAAK,QAAQ,cAAc;AAC3B,WAAK,QAAQ,YAAY,KAAK;AAC9B,WAAK,QAAQ;AAAA,QACX,SAAS,aAAa;AAAA,QACtB,UAAU,cAAc;AAAA,QACxB;AAAA,QACA;AAAA,MACR;AAAA,IACI;AACA,SAAK,QAAQ,cAAc;AAAA,EAC7B;AACF;ACjJA,MAAM,mBAAmB,MAAM;AAAA,EAC7B,YAAY,MAAM,IAAI,IAAI;AACxB,UAAM,MAAM,IAAI,EAAE;AAClB,SAAK,aAAa;AAClB,SAAK,eAAe,IAAI,KAAK;AAC7B,SAAK,SAAS,KAAK;AACnB,SAAK,QAAQ,KAAK,KAAK;AACvB,SAAK,SAAS,IAAI,KAAK;AACvB,SAAK,OAAO,SAAS,KAAK;AAC1B,SAAK,OAAO,QAAQ,KAAK;AACzB,SAAK,OAAO,MAAM,SAAS;AAC3B,SAAK,OAAO,MAAM,QAAQ;AAC1B,SAAK,OAAO,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS5B,SAAK,iBAAgB;AAAA,EACvB;AAAA,EACA,mBAAmB;AACjB,QAAI,CAAC,KAAK;AACR;AACF,SAAK,QAAQ,wBAAwB;AACrC,SAAK,QAAQ,OAAO,UAAU,IAAI,KAAK,KAAK;AAC5C,SAAK,QAAQ,eAAe;AAC5B,SAAK,QAAQ,cAAc;AAAA,EAC7B;AAAA;AAAA,EAEA,OAAO,OAAO,WAAW,YAAY,GAAG;AACtC,QAAI,CAAC,KAAK;AACR;AACF,SAAK,aAAa;AAClB,SAAK,QAAQ,UAAU,GAAG,GAAG,KAAK,OAAO,KAAK,MAAM;AACpD,SAAK,QAAQ,cAAc;AAC3B,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ;AAAA,MACX,GAAG,MAAM,QAAQ,CAAC,CAAC;AAAA,MACnB,KAAK;AAAA,MACL,KAAK;AAAA,IACX;AAAA,EACE;AAAA;AAAA,EAEA,YAAY,aAAa,WAAW;AAClC;AAAA,EACF;AAAA;AAAA,EAEA,UAAU,GAAG,GAAG;AACd,SAAK,OAAO,MAAM,YAAY,aAAa,CAAC,OAAO,CAAC;AAAA,EACtD;AACF;ACrDA,MAAM,qBAAqB,MAAM;AAAA;AAAA,EAE/B,YAAY,MAAM;AAChB,UAAM,MAAM,QAAQ,MAAM;AAC1B,SAAK,gBAAgB;AACrB,SAAK,eAAe;AACpB,SAAK,iBAAgB;AAAA,EACvB;AAAA,EACA,mBAAmB;AACjB,QAAI,CAAC,KAAK;AACR;AACF,SAAK,QAAQ,wBAAwB;AACrC,SAAK,QAAQ,OAAO,UAAU,IAAI,KAAK,KAAK;AAC5C,SAAK,QAAQ,eAAe;AAC5B,SAAK,QAAQ,YAAY;AACzB,SAAK,QAAQ,SAAS,GAAG,GAAG,KAAK,OAAO,KAAK,MAAM;AACnD,SAAK,iBAAgB;AAAA,EACvB;AAAA,EACA,mBAAmB;AACjB,QAAI,CAAC,KAAK;AACR;AACF,SAAK,QAAQ,YAAY;AACzB,SAAK,QAAQ,SAAS,GAAG,GAAG,KAAK,OAAO,KAAK,OAAO;AACpD,SAAK,QAAQ,YAAY,KAAK;AAC9B,SAAK,QAAQ,SAAS,KAAK,MAAM,KAAK,QAAQ,KAAK,MAAM;AAAA,EAC3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,cAAc,OAAO,QAAQ;AAC3B,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EACA,cAAc,QAAQ;AACpB,QAAI,CAAC,KAAK;AACR;AACF,QAAI,KAAK,eAAe;AACtB,WAAK,cAAc,MAAK;AAAA,IAC1B;AACA,SAAK,gBAAgB;AACrB,SAAK,QAAQ,YAAY;AACzB,SAAK,QAAQ,SAAS,GAAG,GAAG,KAAK,OAAO,KAAK,MAAM;AACnD,UAAM,cAAc,KAAK,QAAQ,KAAK;AACtC,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI,KAAK,eAAe,aAAa;AACnC,kBAAY,KAAK;AACjB,mBAAa,KAAK,QAAQ,KAAK;AAC/B,cAAQ;AACR,eAAS,KAAK,SAAS,cAAc;AAAA,IACvC,OAAO;AACL,mBAAa,KAAK;AAClB,kBAAY,KAAK,SAAS,KAAK;AAC/B,eAAS,KAAK,QAAQ,aAAa;AACnC,cAAQ;AAAA,IACV;AACA,SAAK,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN;AACI,SAAK,iBAAgB;AAAA,EACvB;AAAA,EACA,SAAS,OAAO;AACd,SAAK,OAAO;AACZ,SAAK,iBAAgB;AAAA,EACvB;AAAA;AAAA,EAEA,OAAO,QAAQ,WAAW,YAAY,GAAG,UAAU,IAAI;AAAA,EACvD;AAAA;AAAA,EAEA,YAAY,aAAa,WAAW;AAAA,EACpC;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACR,QAAI,KAAK,eAAe;AACtB,WAAK,cAAc,MAAK;AACxB,WAAK,gBAAgB;AAAA,IACvB;AAAA,EACF;AACF;ACxFA,MAAM,wBAAwB;AAC9B,MAAM,yBAAyB;AAC/B,MAAM,oBAAoB;AAAA,EACxB,YAAY,IAAI,QAAQ,uBAAuB,SAAS,wBAAwB;AAC9E,SAAK,aAAa;AAClB,SAAK,iBAAiB;AACtB,SAAK,KAAK;AACV,SAAK,eAAe;AACpB,SAAK,gBAAgB;AACrB,SAAK,SAAS,IAAI,WAAW,QAAQ,SAAS,CAAC;AAC/C,SAAK,gBAAgB,IAAI,WAAW,QAAQ,SAAS,CAAC;AACtD,SAAK,cAAa;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,OAAO,QAAQ;AACpB,QAAI,UAAU,KAAK,gBAAgB,WAAW,KAAK;AACjD;AACF,SAAK,eAAe;AACpB,SAAK,gBAAgB;AACrB,SAAK,SAAS,IAAI,WAAW,QAAQ,SAAS,CAAC;AAC/C,SAAK,gBAAgB,IAAI,WAAW,QAAQ,SAAS,CAAC;AACtD,SAAK,QAAO;AACZ,SAAK,cAAa;AAAA,EACpB;AAAA,EACA,gBAAgB;AACd,UAAM,KAAK,KAAK;AAChB,SAAK,iBAAiB,GAAG,cAAa;AACtC,OAAG,YAAY,GAAG,YAAY,KAAK,cAAc;AACjD,OAAG,WAAW,GAAG,YAAY,GAAG,GAAG,OAAO,KAAK,cAAc,KAAK,eAAe,GAAG,GAAG,MAAM,GAAG,eAAe,IAAI;AACnH,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB,GAAG,MAAM;AAChE,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB,GAAG,MAAM;AAChE,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB,GAAG,aAAa;AACnE,SAAK,aAAa,GAAG,kBAAiB;AACtC,OAAG,gBAAgB,GAAG,aAAa,KAAK,UAAU;AAClD,OAAG,qBAAqB,GAAG,aAAa,GAAG,mBAAmB,GAAG,YAAY,KAAK,gBAAgB,CAAC;AACnG,OAAG,gBAAgB,GAAG,aAAa,IAAI;AACvC,OAAG,YAAY,GAAG,YAAY,IAAI;AAAA,EACpC;AAAA,EACA,MAAM,QAAQ,QAAQ,aAAa,cAAc,YAAY,WAAW;AACtE,UAAM,KAAK,KAAK;AAChB,UAAM,cAAc,GAAG,aAAa,GAAG,wBAAwB;AAC/D,UAAM,cAAc,GAAG,aAAa,GAAG,wBAAwB;AAC/D,OAAG,gBAAgB,GAAG,kBAAkB,MAAM;AAC9C,OAAG,gBAAgB,GAAG,kBAAkB,KAAK,UAAU;AACvD,OAAG;AAAA,MACD;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,GAAG;AAAA,MACH,GAAG;AAAA,IACT;AACI,OAAG,gBAAgB,GAAG,kBAAkB,KAAK,UAAU;AACvD,OAAG,WAAW,GAAG,GAAG,KAAK,cAAc,KAAK,eAAe,GAAG,MAAM,GAAG,eAAe,KAAK,MAAM;AACjG,OAAG,gBAAgB,GAAG,kBAAkB,WAAW;AACnD,OAAG,gBAAgB,GAAG,kBAAkB,WAAW;AACnD,UAAM,UAAU,KAAK,MAAM,KAAK,QAAQ,KAAK,cAAc,KAAK,aAAa;AAC7E,UAAM,YAAY,IAAI,UAAU,IAAI,kBAAkB,OAAO,GAAG,KAAK,cAAc,KAAK,aAAa;AACrG,WAAO,kBAAkB,SAAS;AAAA,EACpC;AAAA,EACA,MAAM,QAAQ,OAAO,QAAQ;AAC3B,UAAM,UAAU,QAAQ;AACxB,aAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,YAAM,YAAY,IAAI;AACtB,YAAM,aAAa,SAAS,IAAI,KAAK;AACrC,WAAK,cAAc,IAAI,OAAO,SAAS,WAAW,YAAY,OAAO,GAAG,SAAS;AAAA,IACnF;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EACA,aAAa,WAAW;AAAA,EACxB;AAAA,EACA,UAAU;AACR,UAAM,KAAK,KAAK;AAChB,QAAI,KAAK,YAAY;AACnB,SAAG,kBAAkB,KAAK,UAAU;AACpC,WAAK,aAAa;AAAA,IACpB;AACA,QAAI,KAAK,gBAAgB;AACvB,SAAG,cAAc,KAAK,cAAc;AACpC,WAAK,iBAAiB;AAAA,IACxB;AAAA,EACF;AACF;AACA,MAAM,qBAAqB;AAAA,EACzB,YAAY,QAAQ,QAAQ,uBAAuB,SAAS,wBAAwB;AAClF,SAAK,iBAAiB;AACtB,SAAK,gBAAgB;AACrB,SAAK,eAAe;AACpB,SAAK,UAAU;AACf,SAAK,kBAAkB;AACvB,SAAK,cAAc;AACnB,SAAK,SAAS;AACd,SAAK,eAAe;AACpB,SAAK,gBAAgB;AACrB,SAAK,eAAe,IAAI,kBAAkB,QAAQ,SAAS,CAAC;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,OAAO,QAAQ;AACpB,QAAI,UAAU,KAAK,gBAAgB,WAAW,KAAK;AACjD;AACF,SAAK,eAAe;AACpB,SAAK,gBAAgB;AACrB,SAAK,eAAe,IAAI,kBAAkB,QAAQ,SAAS,CAAC;AAC5D,QAAI,KAAK;AACP,WAAK,eAAe,QAAO;AAC7B,QAAI,KAAK;AACP,WAAK,cAAc,QAAO;AAC5B,SAAK,iBAAiB;AACtB,SAAK,gBAAgB;AACrB,QAAI,KAAK,aAAa;AACpB,WAAK,oBAAmB;AAAA,IAC1B;AAAA,EACF;AAAA,EACA,sBAAsB;AACpB,UAAM,SAAS,KAAK;AACpB,SAAK,iBAAiB,OAAO,cAAc;AAAA,MACzC,MAAM,EAAE,OAAO,KAAK,cAAc,QAAQ,KAAK,cAAa;AAAA,MAC5D,QAAQ;AAAA,MACR,OAAO,gBAAgB,oBAAoB,gBAAgB;AAAA,IACjE,CAAK;AACD,UAAM,cAAc,KAAK,KAAK,KAAK,eAAe,IAAI,GAAG,IAAI;AAC7D,SAAK,gBAAgB,OAAO,aAAa;AAAA,MACvC,MAAM,cAAc,KAAK;AAAA,MACzB,OAAO,eAAe,WAAW,eAAe;AAAA,IACtD,CAAK;AAAA,EACH;AAAA,EACA,MAAM,gBAAgB;AACpB,QAAI,KAAK;AACP;AACF,UAAM,SAAS,KAAK;AACpB,SAAK,oBAAmB;AACxB,SAAK,UAAU,OAAO,cAAc;AAAA,MAClC,WAAW;AAAA,MACX,WAAW;AAAA,IACjB,CAAK;AACD,UAAM,eAAe,OAAO,mBAAmB;AAAA,MAC7C,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiCZ,CAAK;AACD,SAAK,kBAAkB,OAAO,sBAAsB;AAAA,MAClD,SAAS;AAAA,QACP,EAAE,SAAS,GAAG,YAAY,eAAe,UAAU,SAAS,EAAE,MAAM,cAAa;AAAA,QACjF,EAAE,SAAS,GAAG,YAAY,eAAe,UAAU,SAAS,EAAE,YAAY,QAAO,EAAE;AAAA,MAC3F;AAAA,IACA,CAAK;AACD,SAAK,eAAe,OAAO,qBAAqB;AAAA,MAC9C,QAAQ,OAAO,qBAAqB,EAAE,kBAAkB,CAAC,KAAK,eAAe,GAAG;AAAA,MAChF,QAAQ;AAAA,QACN,QAAQ;AAAA,QACR,YAAY;AAAA,MACpB;AAAA,MACM,UAAU;AAAA,QACR,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,SAAS,CAAC,EAAE,QAAQ,aAAY,CAAE;AAAA,MAC1C;AAAA,MACM,WAAW,EAAE,UAAU,gBAAe;AAAA,IAC5C,CAAK;AACD,SAAK,cAAc;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ,QAAQ;AACpB,UAAM,KAAK,cAAa;AACxB,QAAI,CAAC,KAAK,kBAAkB,CAAC,KAAK,iBAAiB,CAAC,KAAK,gBAAgB,CAAC,KAAK,WAAW,CAAC,KAAK,iBAAiB;AAC/G,aAAO;AAAA,IACT;AACA,UAAM,SAAS,KAAK;AACpB,UAAM,YAAY,OAAO,gBAAgB;AAAA,MACvC,QAAQ,KAAK;AAAA,MACb,SAAS;AAAA,QACP,EAAE,SAAS,GAAG,UAAU,KAAK,QAAO;AAAA,QACpC,EAAE,SAAS,GAAG,UAAU,OAAO,WAAU,EAAE;AAAA,MACnD;AAAA,IACA,CAAK;AACD,UAAM,iBAAiB,OAAO,qBAAoB;AAClD,UAAM,aAAa,eAAe,gBAAgB;AAAA,MAChD,kBAAkB,CAAC;AAAA,QACjB,MAAM,KAAK,eAAe,WAAU;AAAA,QACpC,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,YAAY,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAC;AAAA,MAC5C,CAAO;AAAA,IACP,CAAK;AACD,eAAW,YAAY,KAAK,YAAY;AACxC,eAAW,aAAa,GAAG,SAAS;AACpC,eAAW,KAAK,CAAC;AACjB,eAAW,IAAG;AACd,UAAM,cAAc,KAAK,KAAK,KAAK,eAAe,IAAI,GAAG,IAAI;AAC7D,mBAAe;AAAA,MACb,EAAE,SAAS,KAAK,eAAc;AAAA,MAC9B,EAAE,QAAQ,KAAK,eAAe,YAAW;AAAA,MACzC,EAAE,OAAO,KAAK,cAAc,QAAQ,KAAK,cAAa;AAAA,IAC5D;AACI,WAAO,MAAM,OAAO,CAAC,eAAe,OAAM,CAAE,CAAC;AAC7C,UAAM,KAAK,cAAc,SAAS,WAAW,IAAI;AACjD,UAAM,OAAO,IAAI,WAAW,KAAK,cAAc,eAAc,CAAE;AAC/D,aAAS,IAAI,GAAG,IAAI,KAAK,eAAe,KAAK;AAC3C,YAAM,YAAY,IAAI;AACtB,YAAM,YAAY,IAAI,KAAK,eAAe;AAC1C,WAAK,aAAa,IAAI,KAAK,SAAS,WAAW,YAAY,KAAK,eAAe,CAAC,GAAG,SAAS;AAAA,IAC9F;AACA,SAAK,cAAc,MAAK;AACxB,UAAM,YAAY,IAAI,UAAU,IAAI,kBAAkB,KAAK,YAAY,GAAG,KAAK,cAAc,KAAK,aAAa;AAC/G,WAAO,kBAAkB,SAAS;AAAA,EACpC;AAAA,EACA,UAAU;AACR,QAAI,KAAK;AACP,WAAK,eAAe,QAAO;AAC7B,QAAI,KAAK;AACP,WAAK,cAAc,QAAO;AAC5B,SAAK,iBAAiB;AACtB,SAAK,gBAAgB;AACrB,SAAK,eAAe;AACpB,SAAK,UAAU;AACf,SAAK,kBAAkB;AACvB,SAAK,cAAc;AAAA,EACrB;AACF;AACA,SAAS,mBAAmB,QAAQ,IAAI;AACtC,MAAI,OAAO,uBAAuB,OAAO,oBAAoB;AAC3D,WAAO;AAAA,MACL,aAAa,OAAO;AAAA,MACpB,OAAO,OAAO,SAAS;AAAA,MACvB,QAAQ,OAAO,UAAU;AAAA,IAC/B;AAAA,EACE;AACA,SAAO;AACT;AACA,SAAS,oBAAoB,QAAQ,SAAS;AAC5C,MAAI,OAAO,kBAAkB,OAAO,WAAW,QAAQ,KAAK;AAC1D,UAAM,cAAc,QAAQ,IAAI,OAAO,OAAO;AAC9C,YAAQ,eAAe,OAAO,SAAS,YAAY,YAAY;AAAA,EACjE;AACA,SAAO;AACT;AC1QA,MAAM,SAAS,MAAM,gBAAgB,UAAU;AAAA,EAC7C,YAAY;AAAA,IACV,WAAW;AAAA,IACX,WAAW;AAAA,IACX,UAAU;AAAA,IACV,WAAW;AAAA,IACX,gBAAgB;AAAA,IAChB,kBAAkB;AAAA,IAClB,aAAa;AAAA,IACb,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,aAAa;AAAA,IACb,OAAO;AAAA,EACX,IAAM,IAAI;AACN,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,CAAK;AACD,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,WAAW;AAChB,SAAK,kBAAkB;AACvB,SAAK,aAAa;AAClB,SAAK,iBAAiB;AACtB,SAAK,gBAAgC,oBAAI,IAAG;AAC5C,SAAK,kBAAkB;AACvB,SAAK,sBAAsB;AAC3B,SAAK,uBAAuB;AAC5B,SAAK,sBAAsC,oBAAI,IAAG;AAClD,SAAK,uBAAuC,oBAAI,IAAG;AACnD,SAAK,sBAAsB;AAC3B,SAAK,uBAAuB;AAC5B,SAAK,oBAAoB;AACzB,SAAK,qBAAqB;AAC1B,SAAK,uBAAuB;AAC5B,SAAK,gBAAgB;AACrB,SAAK,UAAU,CAAA;AACf,SAAK,UAAU,CAAA;AACf,SAAK,YAAY,CAAA;AACjB,SAAK,cAAc;AAAA,MACjB,EAAE,aAAa,IAAI,WAAW,MAAK;AAAA,MACnC,EAAE,aAAa,IAAI,WAAW,MAAK;AAAA,MACnC,EAAE,aAAa,IAAI,WAAW,MAAK;AAAA,MACnC,EAAE,aAAa,KAAK,WAAW,KAAI;AAAA,MACnC,EAAE,aAAa,KAAK,WAAW,KAAI;AAAA,MACnC,EAAE,aAAa,KAAK,WAAW,KAAI;AAAA,MACnC,EAAE,aAAa,KAAK,WAAW,KAAI;AAAA,IACzC;AACI,SAAK,gBAAgB;AACrB,SAAK,mBAAmB,CAAA;AACxB,SAAK,eAAe;AACpB,SAAK,kBAAkB;AACvB,SAAK,gBAAgB;AACrB,SAAK,eAAe;AACpB,SAAK,qBAAqB;AAC1B,SAAK,WAAW;AAChB,SAAK,mBAAmB,EAAE,MAAM,CAAA,GAAI,OAAO,CAAA,EAAE;AAC7C,SAAK,cAAc,CAAC,UAAU;AAC5B,YAAM,eAAc;AACpB,WAAK,UAAU,EAAE,KAAK,OAAO,KAAK,IAAI,SAAS,MAAM;AAAA,IACvD;AACA,SAAK,eAAe,MAAM;AACxB,UAAI,KAAK;AACP,aAAK,YAAY,KAAK,QAAQ;AAChC,UAAI,KAAK;AACP,aAAK,YAAY,KAAK,OAAO;AAC/B,UAAI,KAAK;AACP,aAAK,YAAY,KAAK,cAAc;AACtC,UAAI,KAAK;AACP,aAAK,YAAY,KAAK,QAAQ;AAChC,UAAI,KAAK;AACP,aAAK,YAAY,KAAK,eAAe;AAAA,IACzC;AACA,SAAK,OAAO;AACZ,SAAK,aAAa;AAClB,SAAK,UAAU;AACf,SAAK,MAAM,SAAS,cAAc,KAAK;AACvC,SAAK,cAAa;AAClB,SAAK,WAAW;AAChB,QAAI,KAAK,UAAU;AACjB,WAAK,WAAW,KAAK,SAAS,IAAI,QAAQ,MAAM,OAAO,QAAQ,MAAM,CAAC;AACtE,WAAK,UAAU,KAAK,SAAS,IAAI,QAAQ,MAAM,OAAO,QAAQ,MAAM,CAAC;AAAA,IACvE;AACA,QAAI,KAAK,UAAU;AACjB,WAAK,WAAW,KAAK,SAAS,IAAI,QAAQ,MAAM,OAAO,QAAQ,MAAM,CAAC;AAAA,IACxE;AACA,QAAI,KAAK,UAAU;AACjB,WAAK,kBAAkB,KAAK,SAAS,IAAI,QAAQ,MAAM,OAAO,WAAW,SAAS,CAAC;AAAA,IACrF;AACA,QAAI,KAAK,YAAY,MAAM;AACzB,WAAK,aAAa,IAAI,WAAW,IAAI,QAAQ,MAAM;AACnD,WAAK,IAAI,YAAY,KAAK,WAAW,MAAM;AAC3C,WAAK,WAAW,UAAU,IAAI,EAAE;AAAA,IAClC;AACA,SAAK,oBAAmB;AAAA,EAC1B;AAAA,EACA,gBAAgB;AACd,SAAK,IAAI,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMrB,KAAK,UAAU,qBAAqB,EAAE;AAAA;AAAA,EAE5C;AAAA,EACA,sBAAsB;AACpB,QAAI,KAAK,SAAS;AAChB,WAAK,IAAI,iBAAiB,SAAS,KAAK,WAAW;AACnD,WAAK,UAAU,KAAK,IAAI;AAAA,IAC1B,OAAO;AACL,aAAO,iBAAiB,UAAU,KAAK,YAAY;AAAA,IACrD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAIA,iCAAiC;AAC/B,QAAI,IAAI;AACR,QAAI,CAAC,KAAK;AACR;AACF,UAAM,kBAAkB,KAAK,KAAK,SAAS,eAAe,OAAO,SAAS,GAAG,UAAU;AACvF,UAAM,mBAAmB,KAAK,KAAK,SAAS,eAAe,OAAO,SAAS,GAAG,WAAW;AACzF,QAAI,kBAAkB,KAAK,qBAAqB,mBAAmB,KAAK,oBAAoB;AAC1F;AAAA,IACF;AACA,QAAI,kBAAkB,KAAK,mBAAmB;AAC5C;AACF,SAAK,oBAAoB;AACzB,SAAK,qBAAqB;AAC1B,UAAM,eAAe,gBAAgB;AACrC,UAAM,cAAc,wBAAwB;AAC5C,QAAI;AACJ,QAAI;AACJ,QAAI,eAAe,aAAa;AAC9B,iBAAW;AACX,kBAAY,KAAK,MAAM,wBAAwB,YAAY;AAAA,IAC7D,OAAO;AACL,kBAAY;AACZ,iBAAW,KAAK,MAAM,yBAAyB,YAAY;AAAA,IAC7D;AACA,eAAW,KAAK,IAAI,UAAU,EAAE;AAChC,gBAAY,KAAK,IAAI,WAAW,EAAE;AAClC,QAAI,aAAa,KAAK,uBAAuB,cAAc,KAAK,sBAAsB;AACpF,WAAK,sBAAsB;AAC3B,WAAK,uBAAuB;AAC5B,UAAI,KAAK,qBAAqB;AAC5B,aAAK,oBAAoB,OAAO,UAAU,SAAS;AAAA,MACrD;AACA,UAAI,KAAK,sBAAsB;AAC7B,aAAK,qBAAqB,OAAO,UAAU,SAAS;AAAA,MACtD;AACA,iBAAW,SAAS,KAAK,cAAc,OAAM,GAAI;AAC/C,cAAM,cAAc,eAAe,cAAc;AAAA,MACnD;AAAA,IACF;AAAA,EACF;AAAA,EACA,6BAA6B;AAAA,EAC7B;AAAA,EACA,2BAA2B;AAAA,EAC3B;AAAA,EACA,QAAQ,MAAM;AACZ,SAAK,eAAe;AACpB,SAAK,qBAAqB;AAC1B,QAAI,CAAC,KAAK,YAAY,KAAK,SAAS;AAClC,WAAK,WAAW;AAChB,WAAK,iBAAiB,IAAI,QAAQ,MAAM,OAAO,QAAQ,MAAM;AAC7D,YAAM,iBAAiB,KAAK,QAAQ,KAAK;AACzC,WAAK,eAAe,KAAK;AACzB,UAAI,KAAK,YAAY,KAAK,SAAS,MAAM,gBAAgB;AACvD,aAAK,SAAS;AACd,aAAK,YAAY,KAAK,QAAQ;AAAA,MAChC;AACA,UAAI,KAAK,mBAAmB,KAAK,gBAAgB,MAAM,gBAAgB;AACrE,aAAK,gBAAgB;AACrB,aAAK,YAAY,KAAK,eAAe;AAAA,MACvC;AACA,YAAM,WAAW,KAAK,QAAQ;AAC9B,UAAI,SAAS,aAAa;AACxB,aAAK,IAAI,aAAa,KAAK,eAAe,QAAQ,SAAS,WAAW;AAAA,MACxE,OAAO;AACL,aAAK,IAAI,YAAY,KAAK,eAAe,MAAM;AAAA,MACjD;AACA,WAAK,YAAY,KAAK,cAAc;AACpC,WAAK;AAAA,IACP;AAAA,EACF;AAAA,EACA,SAAS;AACP,QAAI,KAAK,cAAc;AACrB,WAAK,uBAAsB;AAAA,IAC7B,OAAO;AACL,WAAK,uBAAsB;AAAA,IAC7B;AAAA,EACF;AAAA,EACA,yBAAyB;AACvB,UAAM,OAAO,KAAK;AAClB,SAAK,aAAa,eAAe,gBAAgB,cAAc;AAC/D,SAAK,aAAa,KAAK,kBAAkB,KAAK,UAAU;AACxD,SAAK,mBAAmB;AACxB,QAAI,KAAK,oBAAoB;AAC3B,WAAK,aAAa,KAAK,KAAK,KAAK,gBAAgB;AACjD,WAAK,aAAa,KAAK,KAAK,KAAK,UAAU;AAC3C,WAAK,aAAa,KAAK,KAAK,KAAK,UAAU;AAC3C,WAAK,aAAa,KAAK,YAAY,KAAK,iBAAiB;AACzD,WAAK,qBAAqB;AAAA,IAC5B;AACA,SAAK,aAAY;AAAA,EACnB;AAAA,EACA,yBAAyB;AACvB,SAAK,aAAa,eAAe,gBAAgB,cAAc;AAC/D,QAAI,KAAK,cAAc;AACrB,WAAK,uBAAsB;AAAA,IAC7B,WAAW,CAAC,KAAK,MAAM;AACrB,WAAK,kBAAiB;AAAA,IACxB,OAAO;AACL,WAAK,wBAAuB;AAAA,IAC9B;AACA,SAAK,eAAc;AACnB,SAAK,cAAa;AAClB,SAAK,aAAY;AAAA,EACnB;AAAA,EACA,eAAe;AACb,QAAI;AACJ,UAAM,cAAc,YAAY,IAAG;AACnC,QAAI,CAAC,KAAK,UAAU;AAClB,WAAK,WAAW,KAAK,WAAW;AAChC,aAAO,KAAK,WAAW,SAAS,KAAK,KAAK,WAAW,CAAC,KAAK,cAAc,KAAK;AAC5E,aAAK,WAAW,MAAK;AAAA,MACvB;AACA,YAAM,MAAM,KAAK,MAAM,KAAK,WAAW,MAAM;AAC7C,WAAK,aAAa,KAAK,KAAK,UAAU;AAAA,IACxC;AACA,UAAM,mBAAmB,eAAe,KAAK,eAAe,MAAM,KAAK;AACvE,UAAM,oBAAoB,eAAe,KAAK,gBAAgB,MAAM,KAAK;AACzE,UAAM,SAAS,KAAK,WAAW,OAAO;AACtC,SAAK,sBAAsB,KAAK,UAAU,KAAK,YAAY,GAAG,kBAAkB,mBAAmB,MAAM;AACzG,SAAK,sBAAsB,KAAK,SAAS,KAAK,YAAY,KAAK,WAAW,kBAAkB,mBAAmB,EAAE;AACjH,QAAI,KAAK,kBAAkB,KAAK,UAAU;AACxC,WAAK,sBAAsB,KAAK,gBAAgB,KAAK,kBAAkB,KAAK,WAAW,kBAAkB,mBAAmB,IAAI;AAAA,IAClI;AACA,QAAI,KAAK,UAAU;AACjB,WAAK,sBAAsB,KAAK,UAAU,KAAK,YAAY,KAAK,WAAW,kBAAkB,mBAAmB,MAAM;AAAA,IACxH;AACA,QAAI,KAAK,YAAY,KAAK,iBAAiB;AACzC,WAAK,sBAAsB,KAAK,iBAAiB,KAAK,mBAAmB,KAAK,WAAW,kBAAkB,mBAAmB,MAAM;AAAA,IACtI;AACA,QAAI,kBAAkB;AACpB,WAAK,eAAe;AAAA,IACtB;AACA,QAAI,mBAAmB;AACrB,WAAK,gBAAgB;AACrB,UAAI,KAAK,cAAc,OAAO,KAAK,CAAC,KAAK,sBAAsB;AAC7D,aAAK,uBAAuB;AAC5B,aAAK,sBAAsB,QAAQ,MAAM;AACvC,eAAK,uBAAuB;AAAA,QAC9B,CAAC;AAAA,MACH;AACA,WAAK,oBAAmB;AAAA,IAC1B;AACA,QAAI,KAAK,eAAe,MAAM;AAC5B,WAAK,YAAY,WAAW;AAC5B,YAAM,eAAe,KAAK,KAAK,kBAAkB,OAAO,SAAS,GAAG,gBAAgB;AACpF,UAAI,oBAAoB,aAAa,GAAG;AACtC,aAAK,WAAW,OAAO,YAAY,UAAU;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EACA,gBAAgB;AACd,SAAK,cAAc;AACnB,SAAK,mBAAmB;AACxB,SAAK,YAAY,YAAY,IAAG;AAAA,EAClC;AAAA,EACA,YAAY,OAAO;AACjB,UAAM,OAAO,MAAM,WAAW;AAC9B,QAAI,KAAK,SAAS;AAChB,YAAM,OAAO,MAAM,UAAU;AAAA,IAC/B,OAAO;AACL,YAAM,OAAO,MAAM,UAAU;AAC7B,UAAI,KAAK,YAAY;AACnB,cAAM,OAAO,MAAM,MAAM;AACzB,cAAM,OAAO,MAAM,OAAO,MAAM,KAAK,MAAM,QAAQ,MAAM,KAAK;AAAA,MAChE,OAAO;AACL,cAAM,OAAO,MAAM,OAAO;AAC1B,cAAM,OAAO,MAAM,MAAM,MAAM,KAAK,MAAM,SAAS,MAAM,KAAK;AAAA,MAChE;AAAA,IACF;AAAA,EACF;AAAA,EACA,SAAS,OAAO;AACd,QAAI,MAAM,QAAQ;AAChB,WAAK,IAAI,YAAY,MAAM,MAAM;AACjC,YAAM,KAAK,KAAK;AAChB,WAAK,YAAY,KAAK;AACtB,WAAK;AAAA,IACP;AACA,WAAO;AAAA,EACT;AAAA,EACA,UAAU,IAAI;AACZ,aAAS,IAAI,GAAG,IAAI,KAAK,IAAI,SAAS,QAAQ,KAAK;AACjD,YAAM,QAAQ,KAAK,IAAI,SAAS,CAAC;AACjC,YAAM,MAAM,UAAU,MAAM,KAAK,UAAU;AAAA,IAC7C;AACA,SAAK,OAAO;AAAA,EACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,gBAAgB,MAAM;AACpB,QAAI,CAAC,KAAK,iBAAiB;AACzB,WAAK,kBAAkB,SAAS,cAAc,KAAK;AACnD,WAAK,gBAAgB,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOrC,WAAK,IAAI,YAAY,KAAK,eAAe;AAAA,IAC3C;AACA,UAAM,QAAQ,IAAI,aAAa,IAAI;AACnC,UAAM,OAAO,MAAM,WAAW;AAC9B,UAAM,OAAO,MAAM,OAAO;AAC1B,UAAM,OAAO,MAAM,MAAM;AACzB,SAAK,gBAAgB,YAAY,MAAM,MAAM;AAC7C,SAAK,cAAc,IAAI,MAAM,KAAK;AAClC,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,WAAW,MAAM,QAAQ;AACvB,SAAK,+BAA8B;AACnC,QAAI,KAAK,MAAM,CAAC,KAAK,qBAAqB;AACxC,WAAK,sBAAsB,IAAI,oBAAoB,KAAK,IAAI,KAAK,qBAAqB,KAAK,oBAAoB;AAAA,IACjH;AACA,QAAI,KAAK,aAAa,CAAC,KAAK,sBAAsB;AAChD,WAAK,uBAAuB,IAAI,qBAAqB,KAAK,WAAW,KAAK,qBAAqB,KAAK,oBAAoB;AAAA,IAC1H;AACA,UAAM,QAAQ,KAAK,cAAc,IAAI,IAAI;AACzC,QAAI,OAAO,uBAAuB,KAAK,IAAI;AACzC,YAAM,cAAc,mBAAmB,QAAQ,KAAK,EAAE;AACtD,UAAI,aAAa;AACf,aAAK,oBAAoB,IAAI,MAAM;AAAA,UACjC,QAAQ;AAAA,UACR,GAAG;AAAA,QACb,CAAS;AACD,YAAI,OAAO;AACT,gBAAM,cAAc,YAAY,OAAO,YAAY,MAAM;AAAA,QAC3D;AAAA,MACF;AACA;AAAA,IACF;AACA,QAAI,OAAO,kBAAkB,KAAK,YAAY;AAC5C,YAAM,aAAa,oBAAoB,QAAQ,KAAK,UAAU;AAC9D,UAAI,YAAY;AACd,aAAK,qBAAqB,IAAI,MAAM,UAAU;AAC9C,YAAI,SAAS,OAAO,SAAS,OAAO,QAAQ;AAC1C,gBAAM,cAAc,OAAO,OAAO,OAAO,MAAM;AAAA,QACjD;AAAA,MACF;AACA;AAAA,IACF;AACA,QAAI,UAAU,OAAO,OAAO,eAAe,YAAY;AACrD,WAAK,qBAAqB,IAAI,MAAM,MAAM;AAC1C;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,gBAAgB,MAAM,aAAa,OAAO,QAAQ;AAChD,SAAK,+BAA8B;AACnC,QAAI,KAAK,MAAM,CAAC,KAAK,qBAAqB;AACxC,WAAK,sBAAsB,IAAI,oBAAoB,KAAK,IAAI,KAAK,qBAAqB,KAAK,oBAAoB;AAAA,IACjH;AACA,SAAK,oBAAoB,IAAI,MAAM;AAAA,MACjC,QAAQ,EAAE,qBAAqB,KAAI;AAAA,MACnC;AAAA,MACA;AAAA,MACA;AAAA,IACN,CAAK;AACD,UAAM,QAAQ,KAAK,cAAc,IAAI,IAAI;AACzC,QAAI,OAAO;AACT,YAAM,cAAc,OAAO,MAAM;AAAA,IACnC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,iBAAiB,MAAM,QAAQ,aAAa,cAAc;AACxD,UAAM,QAAQ,KAAK,cAAc,IAAI,IAAI;AACzC,QAAI,OAAO;AACT,UAAI,gBAAgB,UAAU,iBAAiB,QAAQ;AACrD,cAAM,cAAc,aAAa,YAAY;AAAA,MAC/C;AACA,YAAM,cAAc,MAAM;AAAA,IAC5B;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,QAAQ,KAAK,cAAc,IAAI,IAAI;AACzC,QAAI,OAAO;AACT,YAAM,QAAO;AACb,YAAM,OAAO,OAAM;AACnB,WAAK,cAAc,OAAO,IAAI;AAC9B,WAAK,oBAAoB,OAAO,IAAI;AACpC,WAAK,qBAAqB,OAAO,IAAI;AAAA,IACvC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,sBAAsB;AAC1B,SAAK,+BAA8B;AACnC,QAAI,KAAK,qBAAqB;AAC5B,iBAAW,CAAC,MAAM,MAAM,KAAK,KAAK,qBAAqB;AACrD,cAAM,QAAQ,KAAK,cAAc,IAAI,IAAI;AACzC,YAAI,OAAO;AACT,cAAI,cAAc,OAAO;AACzB,cAAI,QAAQ,OAAO;AACnB,cAAI,SAAS,OAAO;AACpB,cAAI,OAAO,OAAO,uBAAuB,OAAO,OAAO,oBAAoB;AACzE,0BAAc,OAAO,OAAO;AAC5B,oBAAQ,OAAO,OAAO,SAAS;AAC/B,qBAAS,OAAO,OAAO,UAAU;AAAA,UACnC;AACA,gBAAM,SAAS,MAAM,KAAK,oBAAoB,QAAQ,aAAa,OAAO,QAAQ,IAAI;AACtF,cAAI,QAAQ;AACV,kBAAM,cAAc,MAAM;AAAA,UAC5B;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,QAAI,KAAK,sBAAsB;AAC7B,iBAAW,CAAC,MAAM,UAAU,KAAK,KAAK,sBAAsB;AAC1D,cAAM,QAAQ,KAAK,cAAc,IAAI,IAAI;AACzC,YAAI,OAAO;AACT,gBAAM,SAAS,MAAM,KAAK,qBAAqB,QAAQ,UAAU;AACjE,cAAI,QAAQ;AACV,kBAAM,cAAc,MAAM;AAAA,UAC5B;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAIA,sBAAsB;AACpB,UAAM,WAAW,KAAK;AACtB,QAAI,CAAC,YAAY,SAAS,SAAS,KAAK,CAAC,KAAK;AAC5C;AACF,eAAW,eAAe,SAAS,UAAU;AAC3C,UAAI,YAAY,SAAS;AACvB,oBAAY,QAAQ,KAAK,QAAQ;AAAA,MACnC;AAAA,IACF;AAAA,EACF;AAAA,EACA,YAAY,aAAa;AACvB,QAAI,KAAK,kBAAkB,GAAG;AAC5B,WAAK,gBAAgB;AACrB;AAAA,IACF;AACA,UAAM,YAAY,cAAc,KAAK;AACrC,SAAK,gBAAgB;AACrB,SAAK,iBAAiB,KAAK,SAAS;AACpC,QAAI,KAAK,iBAAiB,SAAS,KAAK,cAAc;AACpD,WAAK,iBAAiB,MAAK;AAAA,IAC7B;AACA,QAAI,KAAK,iBAAiB,SAAS;AACjC;AACF,UAAM,eAAe,KAAK,iBAAiB,OAAO,CAAC,GAAG,MAAM,IAAI,CAAC,IAAI,KAAK,iBAAiB;AAC3F,UAAM,WAAW,KAAK,iBAAiB,OAAO,CAAC,KAAK,SAAS,MAAM,KAAK,IAAI,OAAO,cAAc,CAAC,GAAG,CAAC,IAAI,KAAK,iBAAiB;AAChI,UAAM,YAAY,KAAK,KAAK,QAAQ;AACpC,QAAI,YAAY,GAAG;AACjB,WAAK,gBAAgB;AACrB;AAAA,IACF;AACA,QAAI,eAAe;AACnB,QAAI,eAAe;AACnB,eAAW,QAAQ,KAAK,aAAa;AACnC,YAAM,OAAO,KAAK,IAAI,eAAe,KAAK,SAAS;AACnD,UAAI,OAAO,cAAc;AACvB,uBAAe;AACf,uBAAe;AAAA,MACjB;AAAA,IACF;AACA,QAAI,gBAAgB,eAAe,aAAa,aAAa,KAAK,iBAAiB;AACjF,WAAK,gBAAgB;AAAA,IACvB,OAAO;AACL,WAAK,gBAAgB;AAAA,IACvB;AAAA,EACF;AAAA,EACA,sBAAsB,OAAO,cAAc,WAAW,kBAAkB,mBAAmB,SAAS,IAAI;AACtG,QAAI,CAAC,SAAS,aAAa,KAAK,WAAW;AACzC;AACF,UAAM,MAAM,OAAO,MAAM,EAAE;AAC3B,QAAI,EAAE,OAAO,KAAK,UAAU;AAC1B,WAAK,QAAQ,GAAG,IAAI;AACpB,WAAK,QAAQ,GAAG,IAAI;AACpB,WAAK,UAAU,GAAG,IAAI;AAAA,IACxB;AACA,UAAM,eAAe,aAAa,KAAK,aAAa,KAAK,SAAS,CAAC;AACnE,SAAK,QAAQ,GAAG,IAAI,KAAK,IAAI,GAAG,aAAa,IAAI;AACjD,SAAK,QAAQ,GAAG,IAAI,KAAK,IAAI,KAAK,QAAQ,GAAG,GAAG,YAAY;AAC5D,SAAK,UAAU,GAAG,IAAI,KAAK,UAAU,GAAG,IAAI,MAAM,eAAe;AACjE,UAAM,WAAW,KAAK;AAAA,MACpB,KAAK,IAAI,GAAG,aAAa,IAAI;AAAA,MAC7B,GAAG,aAAa,MAAM,MAAM,CAAC,KAAK,YAAY;AAAA,IACpD;AACI,SAAK;AACL,QAAI,kBAAkB;AACpB,YAAM;AAAA,QACJ,KAAK,UAAU,GAAG;AAAA,QAClB,KAAK,QAAQ,GAAG;AAAA,QAChB;AAAA,QACA;AAAA,MACR;AAAA,IACI;AACA,QAAI,mBAAmB;AACrB,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,MACR;AAAA,IACI;AAAA,EACF;AAAA,EACA,YAAY,OAAO,cAAc,YAAY,GAAG;AAC9C,QAAI,CAAC,SAAS,aAAa,KAAK,WAAW;AACzC;AACF,UAAM,cAAc,YAAY,IAAG;AACnC,QAAI,EAAE,MAAM,QAAQ,KAAK,UAAU;AACjC,WAAK,QAAQ,MAAM,IAAI,IAAI;AAC3B,WAAK,QAAQ,MAAM,IAAI,IAAI;AAC3B,WAAK,UAAU,MAAM,IAAI,IAAI;AAAA,IAC/B;AACA,UAAM,eAAe,aAAa,KAAK,aAAa,KAAK,SAAS,CAAC;AACnE,UAAM,YAAY,KAAK,IAAI,GAAG,aAAa,KAAK,MAAM,GAAG,CAAC;AAC1D,SAAK,QAAQ,MAAM,IAAI,IAAI,KAAK,IAAI,KAAK,QAAQ,MAAM,IAAI,GAAG,YAAY;AAC1E,SAAK,QAAQ,MAAM,IAAI,IAAI,KAAK,IAAI,KAAK,QAAQ,MAAM,IAAI,GAAG,YAAY;AAC1E,SAAK,UAAU,MAAM,IAAI,IAAI,KAAK,UAAU,MAAM,IAAI,IAAI,MAAM,eAAe;AAC/E,UAAM,WAAW,KAAK,IAAI,WAAW,GAAG,aAAa,MAAM,MAAM,CAAC,KAAK,YAAY,CAAC;AACpF,SAAK;AACL,QAAI,KAAK,iBAAiB,KAAK,gBAAgB,OAAO,GAAG;AACvD,WAAK,QAAQ,MAAM,IAAI,IAAI;AAC3B,WAAK,QAAQ,MAAM,IAAI,IAAI;AAAA,IAC7B;AACA,QAAI,MAAM,QAAQ;AAChB,UAAI,eAAe,KAAK,cAAc,MAAM,KAAK,eAAe;AAC9D,cAAM;AAAA,UACJ,KAAK,UAAU,MAAM,IAAI;AAAA,UACzB;AAAA,UACA,KAAK,QAAQ,MAAM,IAAI;AAAA,UACvB;AAAA,UACA;AAAA,QACV;AAAA,MACM;AACA,UAAI,eAAe,KAAK,gBAAgB,MAAM,KAAK,iBAAiB;AAClE,cAAM;AAAA,UACJ;AAAA,UACA;AAAA,QACV;AACQ,aAAK,gBAAgB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK;AAAA,EACd;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AACR,QAAI,KAAK,SAAS;AAChB,WAAK,IAAI,oBAAoB,SAAS,KAAK,WAAW;AAAA,IACxD,OAAO;AACL,aAAO,oBAAoB,UAAU,KAAK,YAAY;AAAA,IACxD;AACA,QAAI,KAAK,qBAAqB;AAC5B,WAAK,oBAAoB,QAAO;AAChC,WAAK,sBAAsB;AAAA,IAC7B;AACA,QAAI,KAAK,sBAAsB;AAC7B,WAAK,qBAAqB,QAAO;AACjC,WAAK,uBAAuB;AAAA,IAC9B;AACA,eAAW,SAAS,KAAK,cAAc,OAAM,GAAI;AAC/C,YAAM,QAAO;AAAA,IACf;AACA,SAAK,cAAc,MAAK;AACxB,SAAK,oBAAoB,MAAK;AAC9B,SAAK,qBAAqB,MAAK;AAC/B,UAAM,WAAW,KAAK;AACtB,QAAI,UAAU;AACZ,iBAAW,eAAe,SAAS,UAAU;AAC3C,YAAI,YAAY,SAAS;AACvB,sBAAY,QAAO;AAAA,QACrB;AAAA,MACF;AACA,eAAS,MAAK;AAAA,IAChB;AACA,QAAI,KAAK,iBAAiB;AACxB,WAAK,gBAAgB,OAAM;AAC3B,WAAK,kBAAkB;AAAA,IACzB;AACA,SAAK,IAAI,OAAM;AACf,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,WAAW;AAChB,SAAK,kBAAkB;AACvB,SAAK,aAAa;AAClB,SAAK,iBAAiB;AACtB,SAAK,iBAAiB,SAAS;AAC/B,SAAK,iBAAiB,KAAK,SAAS;AACpC,SAAK,iBAAiB,MAAM,SAAS;AACrC,UAAM,QAAO;AAAA,EACf;AACF;AACA,OAAO,QAAQ;AACf,OAAO,eAAe;AACnB,IAAC,QAAQ;"}